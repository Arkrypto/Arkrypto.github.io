<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>传输层 | Northboat Blog</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/img/leaf.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
    <meta name="description" content="片刻寧靜">
    
    <link rel="preload" href="/assets/css/0.styles.9d0e5d79.css" as="style"><link rel="preload" href="/assets/js/app.640da9fe.js" as="script"><link rel="preload" href="/assets/js/5.48cf2fb4.js" as="script"><link rel="preload" href="/assets/js/105.04975757.js" as="script"><link rel="prefetch" href="/assets/js/10.5942a446.js"><link rel="prefetch" href="/assets/js/100.22c5dadb.js"><link rel="prefetch" href="/assets/js/101.3fe376ae.js"><link rel="prefetch" href="/assets/js/102.fa7e8b50.js"><link rel="prefetch" href="/assets/js/103.540be8a3.js"><link rel="prefetch" href="/assets/js/104.8f8bba68.js"><link rel="prefetch" href="/assets/js/106.17642cee.js"><link rel="prefetch" href="/assets/js/107.2498b219.js"><link rel="prefetch" href="/assets/js/108.02aa390e.js"><link rel="prefetch" href="/assets/js/109.57de1147.js"><link rel="prefetch" href="/assets/js/11.6a49cbbd.js"><link rel="prefetch" href="/assets/js/110.a76400ab.js"><link rel="prefetch" href="/assets/js/111.8dba1a78.js"><link rel="prefetch" href="/assets/js/112.eb629c7b.js"><link rel="prefetch" href="/assets/js/113.7dd12181.js"><link rel="prefetch" href="/assets/js/114.15847a53.js"><link rel="prefetch" href="/assets/js/115.1a385429.js"><link rel="prefetch" href="/assets/js/116.5ec08e10.js"><link rel="prefetch" href="/assets/js/117.418e1274.js"><link rel="prefetch" href="/assets/js/118.6cd909a9.js"><link rel="prefetch" href="/assets/js/119.3aefc98b.js"><link rel="prefetch" href="/assets/js/12.d1453869.js"><link rel="prefetch" href="/assets/js/120.cf108f54.js"><link rel="prefetch" href="/assets/js/121.f4ee044a.js"><link rel="prefetch" href="/assets/js/122.923f46c4.js"><link rel="prefetch" href="/assets/js/123.6e9681d0.js"><link rel="prefetch" href="/assets/js/124.f3e73b77.js"><link rel="prefetch" href="/assets/js/125.83096595.js"><link rel="prefetch" href="/assets/js/126.9f591e83.js"><link rel="prefetch" href="/assets/js/127.38f573ad.js"><link rel="prefetch" href="/assets/js/128.09254f33.js"><link rel="prefetch" href="/assets/js/129.2c2c0f0c.js"><link rel="prefetch" href="/assets/js/13.874293f1.js"><link rel="prefetch" href="/assets/js/130.53b18ebb.js"><link rel="prefetch" href="/assets/js/131.b72600fe.js"><link rel="prefetch" href="/assets/js/132.b0a8d166.js"><link rel="prefetch" href="/assets/js/133.8dd7c361.js"><link rel="prefetch" href="/assets/js/134.722f6dbd.js"><link rel="prefetch" href="/assets/js/135.1063c3d5.js"><link rel="prefetch" href="/assets/js/136.4d92e3c0.js"><link rel="prefetch" href="/assets/js/137.55bd1042.js"><link rel="prefetch" href="/assets/js/138.b13e7730.js"><link rel="prefetch" href="/assets/js/139.49c73709.js"><link rel="prefetch" href="/assets/js/14.3db2a194.js"><link rel="prefetch" href="/assets/js/140.d8cb1868.js"><link rel="prefetch" href="/assets/js/141.95c1a90b.js"><link rel="prefetch" href="/assets/js/142.7ef8bde8.js"><link rel="prefetch" href="/assets/js/143.2762a4d5.js"><link rel="prefetch" href="/assets/js/144.2e684bd5.js"><link rel="prefetch" href="/assets/js/145.5ee2c126.js"><link rel="prefetch" href="/assets/js/146.0acefc79.js"><link rel="prefetch" href="/assets/js/147.4a0ccc64.js"><link rel="prefetch" href="/assets/js/148.479064a3.js"><link rel="prefetch" href="/assets/js/149.dd72d2fc.js"><link rel="prefetch" href="/assets/js/15.51115e4c.js"><link rel="prefetch" href="/assets/js/150.8556bd56.js"><link rel="prefetch" href="/assets/js/151.5f7959f0.js"><link rel="prefetch" href="/assets/js/152.bcd22f3a.js"><link rel="prefetch" href="/assets/js/153.54f21bde.js"><link rel="prefetch" href="/assets/js/154.46374a10.js"><link rel="prefetch" href="/assets/js/155.037a3866.js"><link rel="prefetch" href="/assets/js/156.bed59ce0.js"><link rel="prefetch" href="/assets/js/157.a1ccbd4c.js"><link rel="prefetch" href="/assets/js/158.ca3d66c8.js"><link rel="prefetch" href="/assets/js/159.2c33dd4e.js"><link rel="prefetch" href="/assets/js/16.e29e8c27.js"><link rel="prefetch" href="/assets/js/160.a2161f6e.js"><link rel="prefetch" href="/assets/js/161.5598ea2d.js"><link rel="prefetch" href="/assets/js/162.73c16750.js"><link rel="prefetch" href="/assets/js/163.e4134407.js"><link rel="prefetch" href="/assets/js/164.06e9f71d.js"><link rel="prefetch" href="/assets/js/165.f0e87830.js"><link rel="prefetch" href="/assets/js/166.6fb04c7e.js"><link rel="prefetch" href="/assets/js/167.63f17b16.js"><link rel="prefetch" href="/assets/js/168.0518bcf9.js"><link rel="prefetch" href="/assets/js/169.12cb6c56.js"><link rel="prefetch" href="/assets/js/17.658617d4.js"><link rel="prefetch" href="/assets/js/170.a3365efd.js"><link rel="prefetch" href="/assets/js/171.d1da31f9.js"><link rel="prefetch" href="/assets/js/172.d3d2b3a0.js"><link rel="prefetch" href="/assets/js/173.0fe4606d.js"><link rel="prefetch" href="/assets/js/174.b1e9b3cf.js"><link rel="prefetch" href="/assets/js/175.6a9f3f7e.js"><link rel="prefetch" href="/assets/js/176.7bcf8a35.js"><link rel="prefetch" href="/assets/js/18.e68fb91c.js"><link rel="prefetch" href="/assets/js/19.ec78aa2d.js"><link rel="prefetch" href="/assets/js/2.353a1043.js"><link rel="prefetch" href="/assets/js/20.847b3801.js"><link rel="prefetch" href="/assets/js/21.f27f1fb3.js"><link rel="prefetch" href="/assets/js/22.f663e177.js"><link rel="prefetch" href="/assets/js/23.5b8446e3.js"><link rel="prefetch" href="/assets/js/24.2be82440.js"><link rel="prefetch" href="/assets/js/25.3df4e656.js"><link rel="prefetch" href="/assets/js/26.92d53f43.js"><link rel="prefetch" href="/assets/js/27.7e18d33e.js"><link rel="prefetch" href="/assets/js/28.ecfcd1c3.js"><link rel="prefetch" href="/assets/js/29.e1dc5332.js"><link rel="prefetch" href="/assets/js/3.47b0c03c.js"><link rel="prefetch" href="/assets/js/30.2d853bf1.js"><link rel="prefetch" href="/assets/js/31.27511994.js"><link rel="prefetch" href="/assets/js/32.28dced59.js"><link rel="prefetch" href="/assets/js/33.f435df83.js"><link rel="prefetch" href="/assets/js/34.c12a7121.js"><link rel="prefetch" href="/assets/js/35.05852e22.js"><link rel="prefetch" href="/assets/js/36.6b60b176.js"><link rel="prefetch" href="/assets/js/37.479b400f.js"><link rel="prefetch" href="/assets/js/38.30149699.js"><link rel="prefetch" href="/assets/js/39.e7c942a0.js"><link rel="prefetch" href="/assets/js/4.0b90c46b.js"><link rel="prefetch" href="/assets/js/40.ad4ec837.js"><link rel="prefetch" href="/assets/js/41.8d0d155e.js"><link rel="prefetch" href="/assets/js/42.1c04f944.js"><link rel="prefetch" href="/assets/js/43.dd7d36fc.js"><link rel="prefetch" href="/assets/js/44.2c799e94.js"><link rel="prefetch" href="/assets/js/45.28797353.js"><link rel="prefetch" href="/assets/js/46.f1c0ac65.js"><link rel="prefetch" href="/assets/js/47.3f846f7b.js"><link rel="prefetch" href="/assets/js/48.7ad68b19.js"><link rel="prefetch" href="/assets/js/49.132b5a1b.js"><link rel="prefetch" href="/assets/js/50.f1ff2902.js"><link rel="prefetch" href="/assets/js/51.231ff5b1.js"><link rel="prefetch" href="/assets/js/52.923ccaff.js"><link rel="prefetch" href="/assets/js/53.38e0415b.js"><link rel="prefetch" href="/assets/js/54.ad20896b.js"><link rel="prefetch" href="/assets/js/55.ca7f9891.js"><link rel="prefetch" href="/assets/js/56.32d862d0.js"><link rel="prefetch" href="/assets/js/57.a1538ad0.js"><link rel="prefetch" href="/assets/js/58.52d0fa4d.js"><link rel="prefetch" href="/assets/js/59.fbe12ca6.js"><link rel="prefetch" href="/assets/js/6.34a8f1cc.js"><link rel="prefetch" href="/assets/js/60.92b2768e.js"><link rel="prefetch" href="/assets/js/61.2012e3b3.js"><link rel="prefetch" href="/assets/js/62.3406597f.js"><link rel="prefetch" href="/assets/js/63.040ba9ba.js"><link rel="prefetch" href="/assets/js/64.f225482e.js"><link rel="prefetch" href="/assets/js/65.f68583ff.js"><link rel="prefetch" href="/assets/js/66.6212ce21.js"><link rel="prefetch" href="/assets/js/67.f28289ef.js"><link rel="prefetch" href="/assets/js/68.04622a3d.js"><link rel="prefetch" href="/assets/js/69.00fc426f.js"><link rel="prefetch" href="/assets/js/7.acdf5a6f.js"><link rel="prefetch" href="/assets/js/70.7dec20b7.js"><link rel="prefetch" href="/assets/js/71.023da80d.js"><link rel="prefetch" href="/assets/js/72.99d8f318.js"><link rel="prefetch" href="/assets/js/73.01c87f03.js"><link rel="prefetch" href="/assets/js/74.e963437e.js"><link rel="prefetch" href="/assets/js/75.8d574d6b.js"><link rel="prefetch" href="/assets/js/76.28de78e9.js"><link rel="prefetch" href="/assets/js/77.bf8afd15.js"><link rel="prefetch" href="/assets/js/78.fb8c9eeb.js"><link rel="prefetch" href="/assets/js/79.f02dda0e.js"><link rel="prefetch" href="/assets/js/8.7a43a307.js"><link rel="prefetch" href="/assets/js/80.eaed4145.js"><link rel="prefetch" href="/assets/js/81.4ffa4092.js"><link rel="prefetch" href="/assets/js/82.f11f38be.js"><link rel="prefetch" href="/assets/js/83.66dc80a0.js"><link rel="prefetch" href="/assets/js/84.839a3d16.js"><link rel="prefetch" href="/assets/js/85.275c5b4b.js"><link rel="prefetch" href="/assets/js/86.1f2bdce0.js"><link rel="prefetch" href="/assets/js/87.c2b34663.js"><link rel="prefetch" href="/assets/js/88.8e7e062b.js"><link rel="prefetch" href="/assets/js/89.29072713.js"><link rel="prefetch" href="/assets/js/9.0ca9d3ab.js"><link rel="prefetch" href="/assets/js/90.5d8e3669.js"><link rel="prefetch" href="/assets/js/91.218e6147.js"><link rel="prefetch" href="/assets/js/92.4f8780ad.js"><link rel="prefetch" href="/assets/js/93.8d02d215.js"><link rel="prefetch" href="/assets/js/94.a3d10b27.js"><link rel="prefetch" href="/assets/js/95.def77242.js"><link rel="prefetch" href="/assets/js/96.af30bfd2.js"><link rel="prefetch" href="/assets/js/97.648a1b4b.js"><link rel="prefetch" href="/assets/js/98.607988e7.js"><link rel="prefetch" href="/assets/js/99.50965f28.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9d0e5d79.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Northboat Blog" class="logo"> <span class="site-name can-hide">Northboat Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Home Page" class="dropdown-title"><span class="title">Home Page</span> <span class="arrow down"></span></button> <button type="button" aria-label="Home Page" class="mobile-dropdown-title"><span class="title">Home Page</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/northboat" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github Profile
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/lib/" class="nav-link">
  Liberal
</a></li><li class="dropdown-item"><!----> <a href="https://t.me/northboat" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact Me
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="2084 Full Stack" class="dropdown-title"><span class="title">2084 Full Stack</span> <span class="arrow down"></span></button> <button type="button" aria-label="2084 Full Stack" class="mobile-dropdown-title"><span class="title">2084 Full Stack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/algo/" class="nav-link">
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/dev/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/dev/ops/" class="nav-link">
  Operations
</a></li><li class="dropdown-item"><!----> <a href="/dev/fe/" class="nav-link">
  Front End
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NEUQ CS" class="dropdown-title"><span class="title">NEUQ CS</span> <span class="arrow down"></span></button> <button type="button" aria-label="NEUQ CS" class="mobile-dropdown-title"><span class="title">NEUQ CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/408/ds/" class="nav-link">
  Data Structure
</a></li><li class="dropdown-item"><!----> <a href="/408/cn/" class="nav-link router-link-active">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/408/os/" class="nav-link">
  Operating System
</a></li><li class="dropdown-item"><!----> <a href="/408/co/" class="nav-link">
  Organization
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS and ML" class="dropdown-title"><span class="title">CS and ML</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS and ML" class="mobile-dropdown-title"><span class="title">CS and ML</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/math/" class="nav-link">
  Mathematics
</a></li><li class="dropdown-item"><!----> <a href="/cs/coding/" class="nav-link">
  Coding
</a></li><li class="dropdown-item"><!----> <a href="/cs/security/" class="nav-link">
  Cyberspace Security
</a></li><li class="dropdown-item"><!----> <a href="/cs/machine/" class="nav-link">
  Machine Learning
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Home Page" class="dropdown-title"><span class="title">Home Page</span> <span class="arrow down"></span></button> <button type="button" aria-label="Home Page" class="mobile-dropdown-title"><span class="title">Home Page</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/northboat" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github Profile
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/lib/" class="nav-link">
  Liberal
</a></li><li class="dropdown-item"><!----> <a href="https://t.me/northboat" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact Me
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="2084 Full Stack" class="dropdown-title"><span class="title">2084 Full Stack</span> <span class="arrow down"></span></button> <button type="button" aria-label="2084 Full Stack" class="mobile-dropdown-title"><span class="title">2084 Full Stack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/algo/" class="nav-link">
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/dev/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/dev/ops/" class="nav-link">
  Operations
</a></li><li class="dropdown-item"><!----> <a href="/dev/fe/" class="nav-link">
  Front End
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NEUQ CS" class="dropdown-title"><span class="title">NEUQ CS</span> <span class="arrow down"></span></button> <button type="button" aria-label="NEUQ CS" class="mobile-dropdown-title"><span class="title">NEUQ CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/408/ds/" class="nav-link">
  Data Structure
</a></li><li class="dropdown-item"><!----> <a href="/408/cn/" class="nav-link router-link-active">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/408/os/" class="nav-link">
  Operating System
</a></li><li class="dropdown-item"><!----> <a href="/408/co/" class="nav-link">
  Organization
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS and ML" class="dropdown-title"><span class="title">CS and ML</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS and ML" class="mobile-dropdown-title"><span class="title">CS and ML</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/math/" class="nav-link">
  Mathematics
</a></li><li class="dropdown-item"><!----> <a href="/cs/coding/" class="nav-link">
  Coding
</a></li><li class="dropdown-item"><!----> <a href="/cs/security/" class="nav-link">
  Cyberspace Security
</a></li><li class="dropdown-item"><!----> <a href="/cs/machine/" class="nav-link">
  Machine Learning
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>王道计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TCP/IP Socket in C</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>启航计算机网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/408/cn/basics/computer-network-outline.html" class="sidebar-link">计网概述</a></li><li><a href="/408/cn/basics/computer-network-physical-layer.html" class="sidebar-link">物理层</a></li><li><a href="/408/cn/basics/computer-network-datalink.html" class="sidebar-link">数据链路层</a></li><li><a href="/408/cn/basics/computer-network-network-layer.html" class="sidebar-link">网络层</a></li><li><a href="/408/cn/basics/computer-network-transport.html" aria-current="page" class="active sidebar-link">传输层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#运输层概述" class="sidebar-link">运输层概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#功能" class="sidebar-link">功能</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#端口" class="sidebar-link">端口</a></li></ul></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#udp-概述" class="sidebar-link">UDP 概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#udp-的主要特点" class="sidebar-link">UDP 的主要特点</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#首部和差错控制" class="sidebar-link">首部和差错控制</a></li></ul></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#tcp" class="sidebar-link">TCP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#tcp-概述" class="sidebar-link">TCP 概述</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#流量控制机制" class="sidebar-link">流量控制机制</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#拥塞控制机制" class="sidebar-link">拥塞控制机制</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#tcp-的连接建立" class="sidebar-link">TCP 的连接建立</a></li></ul></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#数据交换模式" class="sidebar-link">数据交换模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#电路交换" class="sidebar-link">电路交换</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#报文交换" class="sidebar-link">报文交换</a></li><li class="sidebar-sub-header"><a href="/408/cn/basics/computer-network-transport.html#分组交换" class="sidebar-link">分组交换</a></li></ul></li></ul></li><li><a href="/408/cn/basics/computer-network-application.html" class="sidebar-link">应用层</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="运输层概述">运输层概述</h2> <h3 id="概述">概述</h3> <p>面向通信的最高层，面向应用的最底层</p> <p>只有位于网络边缘部分的主机才有运输层，路由器最高到网络层，也就是说数据在网络上传输的过程中并没有用到传输层</p> <p>主机通信：本质上来讲是应用进程到应用进程的通信</p> <p>运输层的功能：</p> <ul><li>提供应用进程之间的逻辑通信，如微信到微信，QQ 到 QQ，而不能微信到 QQ</li> <li>提供端到端服务，如 P2P 下载器</li></ul> <p>不同于网络层，网络层提供的是主机到主机的通信</p> <table><thead><tr><th>层级</th> <th>通信范围</th></tr></thead> <tbody><tr><td>数据链路层</td> <td>PPP/HDLC：点对点；局域网：MAC 通信</td></tr> <tr><td>网络层</td> <td>主机到主机</td></tr> <tr><td>传输层</td> <td>端到端；进程到进程</td></tr></tbody></table> <h3 id="功能">功能</h3> <p>一个计算机具有很多进程，需要提供 IP 分用和复用的功能</p> <p>TCP/IP 模型的运输层有两个主要协议</p> <ul><li>用户数据报协议 UDP</li> <li>传输控制协议 TCP</li></ul> <p>两个对等运输实体在通信时传送的数据单位叫做<strong>运输协议数据单元 TPDU</strong></p> <p>TCP：提供全双工的可靠协议，数据单位协议是 <strong>TCP 报文段</strong></p> <ul><li>面向连接的协议，提供面向连接服务</li> <li>只支持点对点单播</li> <li>复杂，如电子邮件、万维网、文件传输</li></ul> <p>UDP：提供不可靠的通信，数据单位协议是 <strong>UDP 报文或用户数据报</strong></p> <ul><li>无连接的协议，提供无连接服务</li> <li>单播、多播、广播</li> <li>简单，如多媒体应用</li></ul> <p>传输层的功能</p> <ul><li>传输层的分用和复用</li> <li>流量控制</li> <li>可靠传输</li> <li>拥塞控制</li></ul> <h3 id="端口">端口</h3> <p>使用端口号的方法对不同进程进行标识</p> <p>有了端口以后，我们可以通过 IP+端口 的方式区分不同网络的不同进程</p> <p>端口用一个 16 位端口号进行标志，运行 65535 个不同的端口号，并且，端口号只具有本地意义，即只用于标识本主机应用层的各进程</p> <p>两大类端口</p> <ul><li>服务器端使用的端口号</li> <li>客户端使用的端口：比较大，四万往上</li></ul> <p>常见端口</p> <ul><li>RPC: 111</li> <li>DNS: 53</li> <li>TFTP: 69</li> <li>SNMP: 161</li> <li>SMTP: 25</li> <li>FTP: 21/20</li> <li>Telnet: 23</li> <li>HTTP: 80</li> <li>HTTPS: 443</li></ul> <h2 id="udp-概述">UDP 概述</h2> <p>在 IP 数据报服务之上增加了很少功能</p> <ul><li>复用和分用的功能</li> <li>差错检测的功能</li></ul> <h3 id="udp-的主要特点">UDP 的主要特点</h3> <ul><li>无连接的协议</li> <li>不保证可靠交付，尽最大努力</li> <li>面向报文，一次性发出整个报文，一次交付整个报文</li> <li>没有拥塞控制</li> <li>支持一对一、一对多、多对一和多对多的交互通信1</li> <li>首部开销小，只有 8 字节</li></ul> <p>面向报文的 UDP：将应用层的报文整个封装到 UDP 用户数据报中，不切割，不拆分</p> <ul><li>应用程序必须选择大小合适的报文，不然延迟会很大</li></ul> <h3 id="首部和差错控制">首部和差错控制</h3> <p>2+2+2+2 字节</p> <ul><li>源端口</li> <li>目的端口</li> <li>长度</li> <li>检验和</li></ul> <p>基于端口的分用和复用</p> <ul><li>复用用的是源端口</li> <li>分用用的是目的端口</li></ul> <p>校验和实现差错控制</p> <ul><li>在数据链路层中使用 CRC 技术检测冗余位的误码率实现差错控制，这里 UDP 使用的并不是 CRC，将首部和数据一起检验，若校验有错，直接丢弃</li> <li>虽然做了差错校验，UDP 仍然是不可靠的数据传输</li></ul> <h2 id="tcp">TCP</h2> <h3 id="tcp-概述">TCP 概述</h3> <p>面向连接的运输层协议，在无连接、不可靠的 IP 网络服务基础上提供可靠交付的服务</p> <p>TCP 特点</p> <ul><li>面向连接</li> <li>点对点</li> <li>可靠交付</li> <li>全双工通信</li> <li>面向字节流，它要对每个字节均编号</li></ul> <p>注意</p> <ul><li>TCP 连接是一条虚连接，并不是物理连接</li> <li>TCP 根据窗口值和网络拥塞程度来决定报文段的字节大小，意思是可以拆分，也可以等待积累多了再一起发</li></ul> <p>TCP 的连接</p> <ul><li>TCP 连接的两端并不是主机，而是进程<strong>套接字 socket</strong></li> <li>套接字：IP+端口号，参考 TCP/IP Sockets in C</li></ul> <p>TCP 报文段的首部格式：同样分为首部和数据部分</p> <p>首部共 20 字节</p> <ul><li>源端口和目的端口</li> <li>序号（seq）：要发送数据的首地址字节编号（TCP 对数据中每个字节都有编号）</li> <li>确认号（ack）：期望收到的下一个字节序号，如 a 向 b 发送了编号 1001 到 2000 的字节数据，b 想要继续接收，其发给 a TCP 报文的确认号则为 2001</li> <li>数据偏移</li> <li>保留</li> <li>URG：紧急处理</li> <li>ACK：ACK=1 表示确认号有效</li> <li>PSH：push=1 表示向上提交数据</li> <li>RST：当连接出现问题，RST=1 重置连接</li> <li>SYN：建立连接的一种方式，SYN=1 表示同意确认连接</li> <li>FIN：终结连接</li> <li>窗口：调节发送双方每次发送多少数据</li> <li>校验和：差错校验</li> <li>紧集指针：表示紧集数据有多少个</li> <li>选项：定义 MSS 大小（maximum segment size）</li> <li>填充：使首部满足 4 字节整数倍</li></ul> <p>不同层级的差错校验</p> <table><thead><tr><th>层级</th> <th>协议</th> <th>校验范围</th></tr></thead> <tbody><tr><td>数据链路层</td> <td>CRC</td> <td>首部和数据</td></tr> <tr><td>网络层</td> <td>IP 数据首部校验和</td> <td>首部</td></tr> <tr><td>运输层</td> <td>UDP/TCP</td> <td>伪首部、首部和数据</td></tr></tbody></table> <h3 id="流量控制机制">流量控制机制</h3> <p>IP 网络提供的是不可靠传输，整个计算机网络只有一个可靠协议 TCP</p> <p>TCP 可靠传输机制</p> <ul><li>编号：编号即给每个字节进行编号</li> <li>确认机制：接收方需要对每一个数据进行确认接收</li> <li>超时机制：若在规定时间内未收到确认，发送方重传</li> <li>自动重传机制：若未收到确认，将自动重传</li></ul> <h4 id="停止-等待协议">停止-等待协议</h4> <blockquote><p>有点像数据链路层的流量控制</p></blockquote> <p>停止等待协议：每发送一个分组后要等待对方的确认，确认后才可以发下一个</p> <p>这样会出现两个问题</p> <ul><li>B 收到数据时检测出了差错，直接丢弃</li> <li>传输过程中丢失</li></ul> <p>上述两种情况下，发送方 A 都不会收到确认</p> <p>解决方案：超时重传</p> <p>如果确认号丢了怎么办？</p> <p>解决方案：编号</p> <ul><li>发送的数据和确认都具有编号，同组数据的发送和确认编号一致</li> <li>若长时间未收到确认（确认丢了），发送方将重新发送上次放的编号的数据，B 收到后发现该编号已有，则丢弃本组数据并再次发送确认号</li> <li>同理，当发送方 A 收到已有编号的确认号，则将其丢弃，避免重复发送</li></ul> <p>自动重传机制：重传是自动进行的，不需要接收方向发送方请求</p> <p>回顾一下链路层的连续 ARQ 协议</p> <p>一次发送多个分组，通过滑动窗口协议控制发送方和接收方所能发送和接受的分组的数量和编号</p> <p>接收方采用累计确认的方式，采用 GBN 方法进行重传</p> <ul><li>链路层的窗口大小是固定的，而 TCP 的窗口是动态的</li></ul> <h3 id="拥塞控制机制">拥塞控制机制</h3> <blockquote><p>重点</p></blockquote> <p>对资源的需求超出了该资源提供的可用部分，网络性能就会变坏，这种现象叫做拥塞，最坏结果，系统崩溃</p> <p>导致因素</p> <ul><li>缓存太小</li> <li>链路容量不足</li> <li>处理数据太慢</li></ul> <p>根本原因：对资源需求 &gt; 可用资源量</p> <p>拥塞控制和流量控制的区别</p> <ul><li>拥塞控制是一个全局性的控制，涉及多方面因素</li> <li>而流量控制仅仅是点对点控制，是端到端的问题</li></ul> <h4 id="开环控制和闭环控制">开环控制和闭环控制</h4> <p>开环控制：将路修得足够大，力争不发生拥塞，不可取，往往造成大量资源浪费</p> <p>闭环控制：通过反馈信号采取响应控制措施</p> <p>一些基本概念</p> <ul><li>MSS：maximum segment size，是数据字段的最大长度，是发送数据的基本单位，即必须为 MMS 的整数倍</li> <li>窗口
<ul><li>接收窗口：根据接收端接受能力确认窗口值</li> <li>拥塞窗口：根据网络状况确定的大小</li> <li>发送窗口：发送端根据网络拥塞情况和接收端能力确定的窗口值</li> <li>真正的窗口值 = Min(拥塞窗口值, 接收窗口值)</li></ul></li> <li>传输轮次：一来一回叫做一个传输轮次，即所有数据发送和确认完，即为一个传输轮次</li></ul> <p>控制拥塞窗口的原则：只要没有拥塞，令拥塞窗口大点，反之令其小点</p> <p>拥塞是基于反馈的，反馈有</p> <ul><li>重传定时器超时：已经拥塞</li> <li>收到三个重复的 ACK：可能产生拥塞</li></ul> <h4 id="tcp-拥塞控制算法">TCP 拥塞控制算法</h4> <p>四种拥塞控制算法</p> <ul><li>cwnd 的单位为 MMS，发送从 1 个 MMS 开始，指数倍增加到 SSTH 个 MMS，再逐个增加</li> <li>完全窗口的概念，发送窗口的值等于一个接收窗口的数据值，我们就说发送方发送了一个完全窗口</li> <li>RTT 指一轮发送和接收所需的总时间</li></ul> <table><thead><tr><th>算法</th> <th>执行过程</th> <th>特点</th></tr></thead> <tbody><tr><td>慢开始(Slow Start)</td> <td>设置初始拥塞窗口 cwnd，每次收到一个确认报文段，令 cwnd+1（重传的不算）；设置慢开始初始门限 SSTH，就是 cwnd 的上限值；当 cwnd 达到门阀，执行拥塞避免算法；当出现拥塞，迅速将窗口大小降为 1，门限值降为 Max(cwnd/2, 2)，继续执行慢开始算法，当可能出现拥塞，执行快重传、快恢复算法</td> <td>从小到大逐渐增大窗口数值，每收到一个确认，cwnd 加一，每经过一个轮次，cwnd 加倍，这一阶段拥塞窗口将呈指数级增加</td></tr> <tr><td>拥塞避免算法</td> <td>当 cwnd &gt; SSTH 时，让 cwnd 每经过一个轮次只加一，同时 SSTH 也加一</td> <td>让拥塞窗口呈线性增加</td></tr> <tr><td>快重传和快恢复算法</td> <td>当发生丢包时，接收方快速连续重传三个相同编号的 ACK 消息，发送方收到三个连续重复的 ACK 后，采用快恢复算法，将 cwnd 和门阀值 SSTH 均降为 cwnd / 2，同时采用拥塞避免算法</td> <td>这里包含了两个算法，二者视作一体，快重传发送的三个冗余的 ACK 将触发快恢复</td></tr></tbody></table> <p>始终注意实际窗口 = Min(拥塞窗口, 接收窗口)</p> <p>习题位于 P13 00:30:00</p> <h3 id="tcp-的连接建立">TCP 的连接建立</h3> <p>采用客户服务器方式</p> <ul><li>发起连接建立的进程叫做客户</li> <li>被动接收连接的是服务器</li></ul> <p>三次握手：SYN 表示同意建立连接，ACK 表示是确认信息，seq 是发送数据的字节编号的起始位置，ack 是希望收到的字节的编号的起始位置</p> <ul><li>客户端请求：SYN = 1, ACK = 0, seq = x</li> <li>服务器确认：SYN = 1, ACK = 1, seq = y, ack = x+1</li> <li>客户端确认确认：SYN = 0, ACK = 1, seq = x+1, ack = y+1</li></ul> <p>三次握手后，连接建立，可以开始发送数据，注意第三次握手的 TCP 首部中 URG = 1，表示要紧急发送</p> <p>四次挥手，前两步和后两步完全一样，因为是全双工，需要双向断连</p> <ul><li>客户端断连：FIN = 1, ACK = 1, seq = u</li> <li>服务器确认：FIN = 0, ACK = 1, seq = v, ack = u+1</li> <li>服务器断连：FIN = 1, ACK = 1, seq = w, ack = u+1</li> <li>客户端确认：FIN = 0, ACK = 1, seq = u+1, ack = w+1</li></ul> <p>四次挥手，等待 2MSL 后，二者才断开连接，避免最后一个数据丢失</p> <ul><li>MSL：报文最大生存时间</li></ul> <p>TCP/IP 综合题: P13 00:50:00</p> <ul><li>IP 分组由谁发送看源地址和目的地址</li> <li>判断 TCP 建立过程看 SYN、ACK、URG 状态和序号/确认号是否对应</li> <li>是否填充看首部记录的数据段长度，若小于 46 则要填充，注意首部中的记录是十六进制，需要转化</li> <li>计算收到数据长度，看第一个发送数据的序号和最后一个数据的确认号，相减即为大小（不考虑握手数据）</li> <li>TCP 数据传输经过多少路由器，TTL 相减</li></ul> <h2 id="数据交换模式">数据交换模式</h2> <h3 id="电路交换">电路交换</h3> <p>交换：建立专用的物理连接，如两部电话机只需要一对电线就可连接</p> <p>三个阶段</p> <ul><li>建立连接</li> <li>通信</li> <li>释放连接</li></ul> <p>优点</p> <ul><li>双方专用，时延小</li> <li>实时性强</li> <li>按发送顺序传输数据，不存在失序问题</li> <li>适用于传输 模拟信号</li> <li>交换设备及控制均较简单</li></ul> <p>缺点</p> <ul><li>建立连接时间较长</li> <li>线路被独占，空闲时其他设备也无法使用，利用率小</li> <li>因为数据直达，不同类型、规格、速率的终端很难相互通信</li> <li>这种通信方式非常适合语音（如打电话）这种实时性很高的业务，但不适合数据传输业务</li> <li>没有差错控制能力</li></ul> <h3 id="报文交换">报文交换</h3> <p>典型的：UDP</p> <p>让每个报文携带目的地址、源地址等信息，采用存储转发的传输方式，不需要建立连接</p> <p>优点</p> <ul><li>不需要建立连接，随时发送</li> <li>因为存储转发，便于设置代码检验和数据重发设置，同时可以进行路径选择，重传时可以更换路径，提高可靠性</li> <li>不占用通信线路，提高利用率</li></ul> <p>缺点</p> <ul><li>转发延迟较高</li> <li>只适合数字通信</li> <li>节点增加会造成传送时延增加</li> <li>没有流量控制</li></ul> <h3 id="分组交换">分组交换</h3> <p>同样采用存储转发，将报文切成小块，每个小报文均携带目的地址、源地址等信息，即均带有首部</p> <p>也叫 IP 分组，各个小报文以流水线的形式进行发送</p> <p>实现方式</p> <ul><li>数据报：就是 IP 数据报，无连接，不可靠，不能保证按序到达</li> <li>虚电路：有连接的服务，需要经过建立-传输-拆除的过程，每个分组都带有虚电路的标识，到达顺序严格遵循发送顺序，端之间可以建立多个虚连接</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/6/2023, 9:04:51 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/408/cn/basics/computer-network-network-layer.html" class="prev">
        网络层
      </a></span> <span class="next"><a href="/408/cn/basics/computer-network-application.html">
        应用层
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="/song/aries.aac" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:44px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="/img/error.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(/img/error.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>白羊</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>northboat</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><!----><div class="RibbonAnimation"></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:99;" data-v-248d85d6></canvas></div></div></div>
    <script src="/assets/js/app.640da9fe.js" defer></script><script src="/assets/js/5.48cf2fb4.js" defer></script><script src="/assets/js/105.04975757.js" defer></script>
  </body>
</html>
