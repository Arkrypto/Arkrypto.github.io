(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{1106:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"目的及环境"}},[s._v("目的及环境")]),s._v(" "),n("h3",{attrs:{id:"实验目的"}},[s._v("实验目的")]),s._v(" "),n("p",[s._v("掌握 8253 计数特点和编程方法。掌握 8253 工作方式 3 的基本工作原理、计数特点和编程方法")]),s._v(" "),n("p",[s._v("实验环境")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("Tpc-zk-II")]),s._v("集成开发环境")]),s._v(" "),n("li",[s._v("微机原理与接口技术实验箱")])]),s._v(" "),n("h3",{attrs:{id:"实验原理"}},[s._v("实验原理")]),s._v(" "),n("p",[s._v("8253/8254 内部结构")]),s._v(" "),n("ul",[n("li",[s._v("三个16位"),n("strong",[s._v("减一")]),s._v("计数单元")]),s._v(" "),n("li",[s._v("控制寄存器")])]),s._v(" "),n("p",[s._v("8253 芯片结构示意图")]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\image-20230406095009956.png"}}),s._v(" "),n("p",[s._v("各地址信号组合功能")]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\image-20230406095155579.png"}}),s._v(" "),n("p",[s._v("8253/8254 的编程命令：作为可编程器件，8253/8254是通过命令字来控制其工作方式的，命令字有两类")]),s._v(" "),n("ul",[n("li",[s._v("初始化编程命令：用于设定计数器的功能、工作方式；")]),s._v(" "),n("li",[s._v("锁存读出命令：用于读出计数器中的计数值，或计数器的状态（8254）")])]),s._v(" "),n("p",[s._v("8253/8254 的初始化控制字")]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\image-20230406095315846.png"}}),s._v(" "),n("p",[s._v("8253 具有三个计数器"),n("code",[s._v("CNT0、CNT1、CNT2")]),s._v("，还有一个控制寄存器，它们各占一个地址（由引脚A1、A0确定）；在每一个计数器"),n("code",[s._v("CNTi")]),s._v("中，有三个部分构成，初值寄存器"),n("code",[s._v("CR")]),s._v("、减一计数器"),n("code",[s._v("CE")]),s._v("和输出锁存器"),n("code",[s._v("OL")])]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\image-20230409100556044.png"}}),s._v(" "),n("p",[s._v("8253/8254 的初始化编程：初始化编程操作的顺序是：先想控制寄存器写入命令字，然后写入初值。如果是 16 位初值时，必须是先写入低 8 位初值，然后再写入高 8 位初值，最后输出锁存命令（读计数器的计数值），将当前的计数器的计数值捕捉到输出锁存器"),n("code",[s._v("OL")]),s._v("中")]),s._v(" "),n("h2",{attrs:{id:"实验步骤及分析"}},[s._v("实验步骤及分析")]),s._v(" "),n("h3",{attrs:{id:"计数实验"}},[s._v("计数实验")]),s._v(" "),n("p",[s._v("实验流程")]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\image-20230409100630614.png"}}),s._v(" "),n("p",[s._v("编写汇编代码程序")]),s._v(" "),n("div",{staticClass:"language-assembly line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("data segment\n\tio0 equ 280h\n\tio1 equ 281h\n\tio2 equ 282h\n\tiok equ 283h\ndata ends\ncode segment\nassume cs:code,ds:data\nstart:\n\tmov ax,data\n\tmov ds,ax\n\tmov dx,iok\n\tmov al,14h\n\tout dx,al\n\tmov dx,io0\n\tmov al,9\n\tout dx,al\n\tr1:mov dx,io0\n\tin al,dx\n\tcall dis\n\tmov ah,1\n\tint 16h\n\tjz r1\n\tmov ah,4ch\n\tint 21h\n\tdis proc\n\tpush ax\n\tpush dx\n\tadd al,30h\n\tmov dl,al\n\tmov ah,2\n\tint 21h\n\tpop dx\n\tpop ax\n\tret\n\tdis endp\n\there:jmp here\ncode ends\nend start\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])]),n("p",[s._v("按图连接电路，将计数器0设置为方式2，计数器初值为N（N<=0FH），用手逐个输入单脉冲，编程使计数值在屏幕上显示，用逻辑笔观察OUT0电平变化（当输入N+1个脉冲后OUT0变高电平）")]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\image-20230409101036748.png"}}),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("接线")]),s._v(" "),n("th")])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("8254/CLK0")]),s._v(" "),n("td",[s._v("单脉冲/正脉冲")])]),s._v(" "),n("tr",[n("td",[s._v("8254/CS")]),s._v(" "),n("td",[s._v("I/O译码/Y0（280H---287H）")])]),s._v(" "),n("tr",[n("td",[s._v("8254/OUT0")]),s._v(" "),n("td",[s._v("LED显示/L7 或 逻辑笔")])]),s._v(" "),n("tr",[n("td",[s._v("8254/GATE0")]),s._v(" "),n("td",[s._v("+5V")])])])]),s._v(" "),n("p",[s._v("点击运行，记录计数过程")]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\count.png"}}),s._v(" "),n("h3",{attrs:{id:"定时实验"}},[s._v("定时实验")]),s._v(" "),n("p",[s._v("编写汇编代码程序")]),s._v(" "),n("div",{staticClass:"language-assembly line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("data segment\nio0 equ 280h\nio1 equ 281h\nio2 equ 282h\niok equ 283h\ndata ends\ncode segment\nassume cs:code,ds:data\nstart:\n    mov ax,data\n    mov ds,ax\n    mov dx,iok\n    mov al,36h\n    out dx,al\n    mov dx,io0\n    mov ax,1000\n    out dx,al\n    mov al,ah\n    out dx,al\n    mov dx,iok\n    mov al,76h\n    out dx,al\n    mov dx,io1\n    mov ax,1000\n    out dx,al\n    mov al,ah\n    out dx,al\nhere:jmp here\ncode ends\nend start\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("p",[s._v("按下图 连接电路，将计数器0、计数器1分别设置工作方式，CLK0连接时钟1MHZ，由  T01000分频后变为1000HZ，再由T1进行1000分频后得1HZ")]),s._v(" "),n("img",{attrs:{src:"E:\\Repo\\note\\Docs\\docs\\408\\organization\\interface\\assets\\image-20230409101423583.png"}}),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("接线")]),s._v(" "),n("th")])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("8254/CLK0")]),s._v(" "),n("td",[s._v("时钟/1MHz")])]),s._v(" "),n("tr",[n("td",[s._v("8254/CS")]),s._v(" "),n("td",[s._v("I/O译码/Y0（280H---287H）")])]),s._v(" "),n("tr",[n("td",[s._v("8254/OUT0")]),s._v(" "),n("td",[s._v("LED显示/L7 或 逻辑笔")])]),s._v(" "),n("tr",[n("td",[s._v("8254/GATE0,GATE1")]),s._v(" "),n("td",[s._v("+5V")])]),s._v(" "),n("tr",[n("td",[s._v("8254/OUT1")]),s._v(" "),n("td",[s._v("逻辑笔")])])])]),s._v(" "),n("p",[s._v("运行程序，可以看到指示灯如下描述闪烁：高低电平每变化一次，计数加一，计数由两位二进制组成，如")]),s._v(" "),n("ul",[n("li",[s._v("在"),n("code",[s._v("0")]),s._v("时刻，计数为"),n("code",[s._v("00")]),s._v("，两个指示灯均暗")]),s._v(" "),n("li",[s._v("在"),n("code",[s._v("1")]),s._v("时刻，高低电平变化，计数变为"),n("code",[s._v("01")]),s._v("，第一个指示灯暗，第二个指示灯亮")]),s._v(" "),n("li",[s._v("在"),n("code",[s._v("2")]),s._v("时刻，高低电平变化，计数为"),n("code",[s._v("10")]),s._v("，第一个指示灯亮，第二个指示灯暗")]),s._v(" "),n("li",[s._v("在"),n("code",[s._v("3")]),s._v("时刻，计数为"),n("code",[s._v("11")]),s._v("，两个指示灯均亮")]),s._v(" "),n("li",[s._v("在"),n("code",[s._v("4")]),s._v("时刻，计数为"),n("code",[s._v("00")]),s._v("，两个指示灯均暗")])])])}),[],!1,null,null,null);n.default=e.exports}}]);