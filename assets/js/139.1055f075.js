(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{1406:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"grid-world"}},[s._v("Grid World")]),s._v(" "),t("blockquote",[t("p",[s._v("网格世界")])]),s._v(" "),t("p",[s._v("在一个4x3的二维数组中，存在墙体和退出点")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center"}}),s._v(" "),t("th",{staticStyle:{"text-align":"center"}}),s._v(" "),t("th"),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("+1")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"center"}}),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("strong",[s._v("墙体")])]),s._v(" "),t("td"),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("strong",[s._v("-1")])])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[t("strong",[s._v("Start")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}}),s._v(" "),t("td"),s._v(" "),t("td",{staticStyle:{"text-align":"center"}})])])]),s._v(" "),t("p",[s._v("在每个空格上，智能代理可以选择上下左右四个方向移动，但并不是严格执行，如")]),s._v(" "),t("ul",[t("li",[s._v("发出向上移动指令时，有10%概率向左移动，10%概率向右移动，80%概率向上移动")]),s._v(" "),t("li",[s._v("发出向左移动指令时，有10%概率向上移动，10%概率向下移动，80%概率向左移动")])]),s._v(" "),t("p",[s._v("当碰到墙体或边界，奖励为0，请根据退出点做出每个空格上的最佳决策并返回各点奖励")]),s._v(" "),t("h2",{attrs:{id:"value-iteration"}},[s._v("Value-Iteration")]),s._v(" "),t("blockquote",[t("p",[s._v("值迭代的C语言实现")])]),s._v(" "),t("p",[s._v("贝尔曼方程\n"),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[t("semantics",[t("mrow",[t("msup",[t("mi",[s._v("V")]),t("mo",[s._v("∗")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("s")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("=")]),t("mi",[s._v("m")]),t("mi",[s._v("a")]),t("mi",[s._v("x")]),t("msup",[t("mi",[s._v("Q")]),t("mo",[s._v("∗")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("a")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mspace",{attrs:{linebreak:"newline"}}),t("msup",[t("mi",[s._v("Q")]),t("mo",[s._v("∗")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("a")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("=")]),t("mi",[s._v("a")]),t("mi",[s._v("v")]),t("mi",[s._v("g")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mo",[s._v("∑")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("R")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("a")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msup",[t("mi",[s._v("s")]),t("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[s._v("′")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("+")]),t("mi",[s._v("λ")]),t("msup",[t("mi",[s._v("V")]),t("mo",[s._v("∗")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("msup",[t("mi",[s._v("s")]),t("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[s._v("′")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\nV^*(s)=maxQ^*(s,a)\\\\Q^*(s,a)=avg(\\sum(R(s,a,s')+\\lambda V^*(s')))\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.7387em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mbin mtight"},[s._v("∗")])])])])])])])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("ma")]),t("span",{staticClass:"mord mathnormal"},[s._v("x")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal"},[s._v("Q")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.7387em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mbin mtight"},[s._v("∗")])])])])])])])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("a")]),t("span",{staticClass:"mclose"},[s._v(")")])]),t("span",{staticClass:"mspace newline"}),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal"},[s._v("Q")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.7387em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mbin mtight"},[s._v("∗")])])])])])])])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("a")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.6em","vertical-align":"-0.55em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("a")]),t("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03588em"}},[s._v("vg")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mop op-symbol large-op",staticStyle:{position:"relative",top:"0em"}},[s._v("∑")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("a")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.8019em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mtight"},[s._v("′")])])])])])])])])]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}}),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.0519em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("λ")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.7387em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mbin mtight"},[s._v("∗")])])])])])])])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.8019em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mtight"},[s._v("′")])])])])])])])])]),t("span",{staticClass:"mclose"},[s._v(")))")])])])])])])],1),s._v("\n一个迭代的过程，直到找到退出条件向前进行值迭代，完善整个网格")]),s._v(" "),t("h3",{attrs:{id:"初始化"}},[s._v("初始化")]),s._v(" "),t("p",[s._v("节点结构体")]),s._v(" "),t("ul",[t("li",[s._v("maxVal：最大价值")]),s._v(" "),t("li",[s._v("decision：最佳决策")]),s._v(" "),t("li",[s._v("vals：上下左右四个Q-Value")]),s._v(" "),t("li",[s._v("visited：是否被访问")]),s._v(" "),t("li",[s._v("end：是否是墙体或退出点")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("struct Node{\n\t//当前状态最大奖励\n\tdouble maxVal;\n\t//当前状态最佳决策 \n\tstring decision;\n\t//当前状态分别向 上、下、左、右所获奖励 \n\tdouble vals[4];\n\t//是否被访问 \n\tbool visited;\n\t//是否是墙体或退出点 \n\tbool end;\n};\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("初始化边界、图以及统计变量")]),s._v(" "),t("ul",[t("li",[s._v("count：记录递归次数")]),s._v(" "),t("li",[s._v("times：记录迭代次数")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#define LEFT 0\n#define RIGHT 3\n#define TOP 0\n#define BOTTOM 2\n\nNode graph[3][4];\nint count = 0;\nint times = 0;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("初始化地图")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//初始化地图 \nvoid initGraph(){\n\t//墙体 \n\tsetEnd(1, 1, 0);\n\t//得分点 \n\tsetEnd(0, 3, 1);\n\t//失分点 \n\tsetEnd(1, 3, -1);\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"辅助函数"}},[s._v("辅助函数")]),s._v(" "),t("h4",{attrs:{id:"设置函数"}},[s._v("设置函数")]),s._v(" "),t("p",[s._v("设置退出点或墙体")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//设置退出点和墙体 \nvoid setEnd(int row, int colume, double val){\n\tgraph[row][colume].maxVal = val;\n\tgraph[row][colume].end = true;\n\tgraph[row][colume].decision = "无";\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("设置节点最佳策略")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//根据Q值设置最佳策略 \nvoid setDecision(){\n\tfor(int i = TOP; i <= BOTTOM; i++){\n\t\tfor(int j = LEFT; j <= RIGHT; j++){\n\t\t\tfor(int k = 0; k < 4; k++){\n\t\t\t\tif(graph[i][j].vals[k] == graph[i][j].maxVal && graph[i][j].maxVal != 0){\n\t\t\t\t\tswitch(k){\n\t\t\t\t\t\tcase 0: graph[i][j].decision = "上"; break;\n\t\t\t\t\t\tcase 1: graph[i][j].decision = "下"; break;\n\t\t\t\t\t\tcase 2: graph[i][j].decision = "左"; break;\n\t\t\t\t\t\tcase 3: graph[i][j].decision = "右"; break; \n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("p",[s._v("设置节点最大价值")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//Q值设置当前状态最大奖励 \nvoid setMaxVal(int row, int colume){\n\n\tfor(int i = 0; i < 4; i++){\n\t\tif(graph[row][colume].vals[i] > graph[row][colume].maxVal){\n\t\t\tgraph[row][colume].maxVal = graph[row][colume].vals[i];\n\t\t}\n\t}\n//\tif(row == 2 && colume == 3){\n//\t\tcout << "hahaha\\n";\n//\t}\n\t\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h4",{attrs:{id:"打印函数"}},[s._v("打印函数")]),s._v(" "),t("p",[s._v("打印地图")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//打印地图 \nvoid printGraph(){\n\tcout << "\\n----------------------------------------\\n";\n\tfor(int i = TOP; i <= BOTTOM; i++){\n\t\tfor(int j = LEFT; j <= RIGHT; j++){\n//\t\t\tfor(int k = 0; k < 4; k++){\n//\t\t\t\tcout << graph[i][j].vals[k] << "\\t";\n//\t\t\t}\n\t\t\tcout << fixed << setprecision(4) << graph[i][j].maxVal;\n\t\t\tcout << " " << graph[i][j].decision << "|";\n\t\t}\n\t\tcout << "\\n----------------------------------------\\n";\n\t}\n}\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("打印统计值")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//打印统计 \nvoid printStatistics(){\n\tcout << "已迭代: " << ++times << "次\\t" << "共递归: " << count << "次\\n";\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"刷新访问状态"}},[s._v("刷新访问状态")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//刷新被访问状态 \nvoid flushGraph(){\n\tfor(int i = 0; i < 3; i++){\n\t\tfor(int j = 0; j < 4; j++){\n\t\t\tgraph[i][j].visited = false;\n\t\t}\n\t}\n\t//根据当前Q(S,A)设置最佳策略 \n\tsetDecision();\n\t//打印地图 \n\tprintGraph();\n\t//打印统计 \n\tprintStatistics();\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"核心实现"}},[s._v("核心实现")]),s._v(" "),t("p",[s._v("值迭代函数")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//值迭代函数 \ndouble value_iterate(int row, int colume){\n\tcount++;\n\t//当碰到边界，直接返回0 \n\tif(row < TOP || row > BOTTOM || colume < LEFT || colume > RIGHT){\n\t\treturn 0;\n\t}\n\t\n\t//当节点已经被访问过，说明已经赋值了，于是返回最大值 \n\t//或当碰到墙体或退出点，直接返回 \n\tif(graph[row][colume].visited || graph[row][colume].end){\n\t\treturn graph[row][colume].maxVal;\n\t}\n\t\n\tgraph[row][colume].visited = true;\n\n\t//向上递归 \n\tgraph[row][colume].vals[0] = 0.9*(0.8*value_iterate(row-1,colume) + 0.1*value_iterate(row,colume-1) + 0.1*value_iterate(row,colume+1));\n\t\n\t//向下递归 \n\tgraph[row][colume].vals[1] = 0.9*(0.8*value_iterate(row+1,colume) + 0.1*value_iterate(row,colume-1) + 0.1*value_iterate(row,colume+1));\n\t\n\t//向左递归 \n\tgraph[row][colume].vals[2] = 0.9*(0.8*value_iterate(row,colume-1) + 0.1*value_iterate(row+1,colume) + 0.1*value_iterate(row-1,colume));\n\t\n\t//向右递归 \n\tgraph[row][colume].vals[3] = 0.9*(0.8*value_iterate(row,colume+1) + 0.1*value_iterate(row+1,colume) + 0.1*value_iterate(row-1,colume));\n\t\n\t//设置最佳策略、最大奖励、标记已访问 \n\tsetMaxVal(row, colume);\n\t\n\t//cout << "已递归" << count << "次\\n";\n\t\n\treturn graph[row][colume].maxVal;\n\t\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br")])]),t("p",[s._v("main函数")]),s._v(" "),t("ul",[t("li",[s._v("记录上一轮起点的最大价值，在下一轮与新值比较，若相同则说明迭代完成，退出循环；若不同则继续迭代")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('int main(){\n\t//设置起始点 \n\tint row = 1, colume = 0;\n\t//初始化地形：墙体和退出点 \n\tinitGraph();\n\t//记录上一轮初始点值 \n\tdouble pre = graph[row][colume].maxVal;\n\t//开始迭代 \n\twhile(1){\t\n\t\t//从初识点开始一轮值迭代\t\n\t\tvalue_iterate(row, colume);\n\t\t//刷新节点均为被访问，同时打印统计数据和地图 \n\t\tflushGraph();\t\t\t\t\n\t\t//当迭代后值未变化，说明迭代完成，退出循环 \n\t\tif(graph[row][colume].maxVal == pre){\n\t\t\tbreak;\n\t\t}\n\t\t//否则将当前值赋给pre，进行下一轮迭代 \n\t\tpre = graph[row][colume].maxVal;\n\t}\n\t\n\tcout << "\\n\\n最终结果:";\n\tprintGraph();\n\t\n\n\treturn 0;\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("h3",{attrs:{id:"完整源码"}},[s._v("完整源码")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/northboat/Algo",target:"_blank",rel:"noopener noreferrer"}},[s._v("northboat/Algo: 算法代码实现 (github.com)"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("对于这样一个"),t("code",[s._v("3x4")]),s._v("的网格，概率精确到小数点后六位，使用值迭代函数需要递归两千一百多次，所有概率都趋于稳定，迭代21轮")]),s._v(" "),t("h2",{attrs:{id:"q-learning"}},[s._v("Q-Learning")]),s._v(" "),t("p",[s._v("对于同样的网格，对各状态Q-Value进行"),t("strong",[s._v("学习")]),s._v(" "),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[t("semantics",[t("mrow",[t("mi",[s._v("Q")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("a")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("=")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mn",[s._v("1")]),t("mo",[s._v("−")]),t("mi",[s._v("α")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mi",[s._v("Q")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("a")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("+")]),t("mi",[s._v("α")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mi",[s._v("R")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("msup",[t("mi",[s._v("s")]),t("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[s._v("′")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("+")]),t("mi",[s._v("λ")]),t("mi",[s._v("m")]),t("mi",[s._v("a")]),t("mi",[s._v("x")]),t("mi",[s._v("Q")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("msup",[t("mi",[s._v("s")]),t("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[s._v("′")])],1),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msup",[t("mi",[s._v("a")]),t("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[s._v("′")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\nQ(s,a)=(1-\\alpha)Q(s,a)+\\alpha(R(s')+\\lambda maxQ(s',a'))\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("Q")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("a")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[s._v("1")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}}),t("span",{staticClass:"mbin"},[s._v("−")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.0037em"}},[s._v("α")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mord mathnormal"},[s._v("Q")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("a")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}}),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.0519em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.0037em"}},[s._v("α")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.8019em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mtight"},[s._v("′")])])])])])])])])]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}}),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.0519em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord mathnormal"},[s._v("λma")]),t("span",{staticClass:"mord mathnormal"},[s._v("x")]),t("span",{staticClass:"mord mathnormal"},[s._v("Q")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal"},[s._v("s")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.8019em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mtight"},[s._v("′")])])])])])])])])]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathnormal"},[s._v("a")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.8019em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mtight"},[s._v("′")])])])])])])])])]),t("span",{staticClass:"mclose"},[s._v("))")])])])])])])],1)]),s._v(" "),t("ul",[t("li",[s._v("α：学习率")]),s._v(" "),t("li",[s._v("λ：折损率")]),s._v(" "),t("li",[t("code",[s._v("s'")]),s._v("为状态"),t("code",[s._v("s")]),s._v("经过"),t("code",[s._v("a")]),s._v("到达的次状态")])]),s._v(" "),t("p",[s._v("什么意思呢，就是说当前状态"),t("code",[s._v("s")]),s._v("执行行动"),t("code",[s._v("a")]),s._v("到达状态"),t("code",[s._v("s'")]),s._v("的价值等于经验"),t("code",[s._v("Q(s,a)")]),s._v("的一部分和目的状态"),t("code",[s._v("s'")]),s._v("的回报加"),t("code",[s._v("s'")]),s._v("最大的"),t("code",[s._v("Q-Value")]),s._v("的一部分")]),s._v(" "),t("ul",[t("li",[s._v("每执行一次行动，都要乘以一个折损率")]),s._v(" "),t("li",[s._v("对于每一次更新，都按学习率进行，即经验和新知识按这一比率构成新的经验")])]),s._v(" "),t("p",[s._v("要注意的是，这并不是一个递归的过程，只是在当前基础上选择一个策略，执行，并获得结果并更新罢了")]),s._v(" "),t("p",[s._v("同样使用布尔变量"),t("code",[s._v("visited")]),s._v("表示访问状态，每轮学习时优先访问奖赏最大的节点，有概率（"),t("code",[s._v("epsilon")]),s._v("）访问其他节点")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("epsilon greedy")])])]),s._v(" "),t("h3",{attrs:{id:"初始化-2"}},[s._v("初始化")]),s._v(" "),t("p",[s._v("节点结构体")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#include <iostream>\nusing namespace std;\n#include <iomanip>\n#include <stdlib.h>\n#include <time.h>\n//图边界 \n#define left 0\n#define right 3\n#define top 0\n#define bottom 2\n//学习率 \n#define rate 0.5\n//折损率 \n#define discount 0.9\n//随即率\n#define epsilon 0.2 \n\nstruct Node{\n\t//当前状态奖励\n\tdouble reward;\n\t//当前状态最佳决策 \n\tstring decision;\n\t//当前状态分别向 上、下、左、右所获奖励 \n\tdouble vals[4];\n\t//是否被访问 \n\tbool visited;\n\t//是否是墙体或退出点 \n\tbool end;\n};\n\nNode graph[3][4];\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("p",[s._v("方位类")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("move函数便于移动至下一访问节点")]),s._v(" "),t("p",[s._v("对于参数 step")]),s._v(" "),t("ul",[t("li",[s._v("0表示向上移动")]),s._v(" "),t("li",[s._v("1表示向下移动")]),s._v(" "),t("li",[s._v("2表示向左移动")]),s._v(" "),t("li",[s._v("3表示向右移动")])])])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("class Pos{\npublic:\n\tint row;\n\tint colume;\n\t\n\tPos(int r, int c){\n\t\trow = r;\n\t\tcolume = c;\n\t}\n\t\n\tPos move(int step){\n\t\tswitch(step){\n\t\t\tcase 0:{\n\t\t\t\tPos p(row-1, colume);\n\t\t\t\treturn p;\n\t\t\t} \n\t\t\tcase 1:{\n\t\t\t \tPos p(row+1, colume);\n\t\t\t\treturn p;\n\t\t\t}\n\t\t\tcase 2:{\n\t\t\t\tPos p(row, colume-1);\n\t\t\t\treturn p;\n\t\t\t}\n\t\t\tcase 3:{\n\t\t\t\tPos p(row, colume+1);\n\t\t\t\treturn p;\n\t\t\t} \n\t\t}\n\t}\n};\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("p",[s._v("初始化地图并设置退出点和墙体")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//设置退出点和墙体 \nvoid setEnd(Pos p, double val){\n\tgraph[p.row][p.colume].reward = val;\n\tgraph[p.row][p.colume].end = true;\n\tgraph[p.row][p.colume].decision = "无";\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//初始化地图 \nvoid initGraph(){\n\tPos p1(1, 1);\n\tPos p2(0, 3);\n\tPos p3(1, 3);\n\t\n\t//墙体 \n\tsetEnd(p1, 0);\n\t//得分点 \n\tsetEnd(p2, 1);\n\t//失分点 \n\tsetEnd(p3, -1);\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"核心实现-2"}},[s._v("核心实现")]),s._v(" "),t("p",[t("code",[s._v("q-learning")]),s._v("其实很好实现，代工式就行了，主要是如何去选择下一步位置，这很关键")]),s._v(" "),t("p",[s._v("在当前节点"),t("code",[s._v("learning")]),s._v("后，继续在下一节点执行"),t("code",[s._v("q-learning")]),s._v("，这个节点的选取取决于附近节点的奖赏和随机概率")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("若抽中概率，在除去最大节点之外的可选区节点随机选一个作为下一访问节点")])]),s._v(" "),t("li",[t("p",[s._v("count用于统计函数执行次数")])]),s._v(" "),t("li",[t("p",[s._v("如果学习到墙壁或退出点，该点下一步将推出，我这里处理为"),t("code",[s._v("if(node.end){ next = (-1,-1) }")]),s._v("即将下一步移到"),t("code",[s._v("(-1,-1)")]),s._v("，下一步必退出；另外将这样的点的"),t("code",[s._v("Q-Value")]),s._v("统一存储在"),t("code",[s._v("vals[0]")]),s._v("，因为他的"),t("code",[s._v("reward")]),s._v("和"),t("code",[s._v("q-value")]),s._v("是完全分开的")])])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('int count = 0;\n//Q-Learning \n//并非是递归过程，只是在向前探索罢了 \nvoid q_learning(Pos p){\n\tcount++;\n\tint row = p.row, colume = p.colume;\n\t//cout << row << "  " << colume << endl;\n\t//当碰到边界，直接返回0 \n\tif(row < top || row > bottom || colume < left || colume > right){\n\t\treturn;\n\t}\n\tNode node = graph[row][colume];\n\tif(node.visited){\n\t\treturn;\n\t}\n\tgraph[row][colume].visited = true;\n\t//随机移动 \n\tint step = nextStep(p);\n\t//cout << step << endl;\n\t//下一步位置 \n\tPos next = p.move(step);\n\t//当node为退出点，下一步置为(-1,-1)，maxQ接收这一坐标返回零 \n\t//同时下一次q-learning将超出边界直接退出 \n\t//将退出点的QValue存在val[0] \n\tif(node.end){\n\t\tnext = Pos(-1, -1);\n\t\tstep = 0;\n\t}\n\t//cout << step << endl;\n\tgraph[row][colume].vals[step] = (1-rate)*node.vals[step] + rate*(node.reward + discount*maxQ(next));\n\n\tq_learning(next);\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("p",[s._v("下一步选取")]),s._v(" "),t("p",[s._v("返回下一步方位")]),s._v(" "),t("ul",[t("li",[s._v("0表示上，1表示下，2表示左，3表示右")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("int nextStep(Pos p){\n\tint row = p.row, colume = p.colume;\n\treturn maxR(row, colume);\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("选取当前位置附近的奖励最大的节点并返回，有一定随机概率返回的不是最大值，而是除最大值之外能到达的节点，避免陷于局部最大")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("epsilon greedy")])])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('int maxR(int row, int colume){\n\tint reward[4];\n\t\n\tif(row-1 < top){ reward[0] = -2; } \n\telse if(graph[row-1][colume].visited){ reward[0] = -1; }\n\telse { reward[0] = graph[row-1][colume].reward; }\n\t\n\tif(row+1 > bottom){ reward[1] = -2; }\n\telse if(graph[row+1][colume].visited){ reward[1] = -1; }\n\telse { reward[1] = graph[row+1][colume].reward; }\n\t\n\tif(colume-1 < left){ reward[2] = -2; } \n\telse if(graph[row][colume-1].visited){ reward[2] = -1; }\n\telse { reward[2] = graph[row][colume-1].reward; }\n\t\n\tif(colume+1 > right){ reward[3] = -2; }\n\telse if(graph[row][colume+1].visited){ reward[3] = -1; }\n\telse { reward[3] = graph[row][colume+1].reward; }\n\t\n\t//cout << r1 << " " << r2 << " "<< r3 << " "<< r4 << endl;\n\tint step = compare(reward[0], reward[1], reward[2], reward[3]);\n\tdouble random =  rand()%10 * 0.1;\n\tif(random <= epsilon){\n\t\tfor(int i = 0; i < 4; i++){\n\t\t\tif(i != step && reward[i] != -2){\n\t\t\t\tstep = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn step;\n\t\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("p",[s._v("比较传入的四个值，根据大小返回最大值的下标")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("int compare(int r1, int r2, int r3, int r4){\n\t//向上 \n\tif(r1 >= r2 && r1 >= r3 && r1 >= r4){ return 0; }\n\t//向右 \n\tif(r4 >= r1 && r4 >= r2 && r4 >= r3){ return 3; }\n\t//向下 \n\tif(r2 >= r1 && r2 >= r3 && r2 >= r4){ return 1; }\n\t//向左 \n\tif(r3 >= r1 && r3 >= r2 && r3 >= r4){ return 2;\t}\n\t\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("根据当前节点"),t("code",[s._v("P")]),s._v("的"),t("code",[s._v("Q-Value")]),s._v("设置最佳策略")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('void setDecision(Pos p, int index){\n\tint row = p.row, colume = p.colume;\n\tswitch(index){\n\t\tcase 0: graph[row][colume].decision = "上"; break;\n\t\tcase 1: graph[row][colume].decision = "下"; break;\n\t\tcase 2: graph[row][colume].decision = "左"; break;\n\t\tcase 3: graph[row][colume].decision = "右"; break;\n\t}\n} \n\ndouble maxQ(Pos p){\n\tint row = p.row, colume = p.colume;\n\tif(row == -1 && colume == -1){\n\t\treturn 0;\n\t}\n\tNode node = graph[row][colume];\n\tif(node.end){\n\t\treturn node.vals[0];\n\t}\n\tdouble max = 0;\n\tfor(int i = 0; i < 4; i++){\n\t\tif(node.vals[i] > max){\n\t\t\tmax = node.vals[i];\n\t\t\tif(!node.end)\n\t\t\t\tsetDecision(p, i); \n\t\t}\n\t}\n\treturn max;\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("h3",{attrs:{id:"辅助函数-2"}},[s._v("辅助函数")]),s._v(" "),t("p",[s._v("打印地图和刷新节点访问状态")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//打印图 \nvoid printGraph(){\n\tcout << "\\n----------------------------------------\\n";\n\tfor(int i = top; i <= bottom; i++){\n\t\tfor(int j = left; j <= right; j++){\n\t\t\tPos p(i, j);\n\t\t\tcout << fixed << setprecision(4) << maxQ(p);\n\t\t\tcout << " " << graph[i][j].decision << "|";\n\t\t}\n\t\tcout << "\\n----------------------------------------\\n";\n\t}\n}\n\n//刷新被访问状态 \nvoid flushGraph(){\n\tfor(int i = 0; i < 3; i++){\n\t\tfor(int j = 0; j < 4; j++){\n\t\t\tgraph[i][j].visited = false;\n\t\t}\n\t}\n\t//打印地图 \n\tprintGraph();\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h3",{attrs:{id:"完整源码-2"}},[s._v("完整源码")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/northboat/Algo",target:"_blank",rel:"noopener noreferrer"}},[s._v("northboat/Algo: 算法代码实现 (github.com)"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("相较于递归两千余次的值迭代，"),t("code",[s._v("q-learning")]),s._v("函数执行400余次后最佳策略已然可以得出并且不改变，执行1000余次后小数点后四位概率趋于稳定")])])}),[],!1,null,null,null);t.default=e.exports}}]);