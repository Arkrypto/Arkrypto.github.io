<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实存 | Canoe&#39;s Dockyard</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/leaf.ico">
    <link rel="stylesheet" href="/css/katex0.15.1.min.css">
    <script src="/js/katex0.15.1.min.js"></script>
    <script src="/js/jquery1.9.1.min.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/crypto.js"></script>
    <script src="/js/md5.js"></script>
    <script src="/js/clock.js"></script>
    <link rel="stylesheet" href="/css/button.css">
    <meta name="description" content="one note&amp;blog during my undergraduate period.">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.43a358f3.css" as="style"><link rel="preload" href="/assets/js/app.c458001f.js" as="script"><link rel="preload" href="/assets/js/11.84a9796d.js" as="script"><link rel="preload" href="/assets/js/1.ebe4176a.js" as="script"><link rel="preload" href="/assets/js/90.6ae2896a.js" as="script"><link rel="prefetch" href="/assets/js/10.933a1268.js"><link rel="prefetch" href="/assets/js/100.a51ee28c.js"><link rel="prefetch" href="/assets/js/101.ed7cc9ce.js"><link rel="prefetch" href="/assets/js/102.423a3841.js"><link rel="prefetch" href="/assets/js/103.af521222.js"><link rel="prefetch" href="/assets/js/104.270bdad0.js"><link rel="prefetch" href="/assets/js/105.97b004b9.js"><link rel="prefetch" href="/assets/js/106.3d618ec2.js"><link rel="prefetch" href="/assets/js/107.6124b8aa.js"><link rel="prefetch" href="/assets/js/108.e2f0b3b4.js"><link rel="prefetch" href="/assets/js/109.cf0fc356.js"><link rel="prefetch" href="/assets/js/110.6ec43a05.js"><link rel="prefetch" href="/assets/js/111.0a4a988c.js"><link rel="prefetch" href="/assets/js/112.07388e93.js"><link rel="prefetch" href="/assets/js/113.8aee5ebb.js"><link rel="prefetch" href="/assets/js/114.ce3a5ac0.js"><link rel="prefetch" href="/assets/js/115.1e8642e2.js"><link rel="prefetch" href="/assets/js/116.9aa13186.js"><link rel="prefetch" href="/assets/js/117.aa35d929.js"><link rel="prefetch" href="/assets/js/118.12a86299.js"><link rel="prefetch" href="/assets/js/119.fd9dda61.js"><link rel="prefetch" href="/assets/js/12.ab863bf3.js"><link rel="prefetch" href="/assets/js/120.06ad1ea6.js"><link rel="prefetch" href="/assets/js/121.40c9c99c.js"><link rel="prefetch" href="/assets/js/122.844bc08f.js"><link rel="prefetch" href="/assets/js/123.402a0386.js"><link rel="prefetch" href="/assets/js/124.a2424ee0.js"><link rel="prefetch" href="/assets/js/125.7da9e18c.js"><link rel="prefetch" href="/assets/js/126.6d69927e.js"><link rel="prefetch" href="/assets/js/127.a9b2bb7d.js"><link rel="prefetch" href="/assets/js/128.b626d700.js"><link rel="prefetch" href="/assets/js/129.5207d4e5.js"><link rel="prefetch" href="/assets/js/13.0693d40e.js"><link rel="prefetch" href="/assets/js/130.e43de1fc.js"><link rel="prefetch" href="/assets/js/131.807bac06.js"><link rel="prefetch" href="/assets/js/132.8cec9ab4.js"><link rel="prefetch" href="/assets/js/133.6a5960bd.js"><link rel="prefetch" href="/assets/js/134.241f45a7.js"><link rel="prefetch" href="/assets/js/135.98615320.js"><link rel="prefetch" href="/assets/js/136.66e3892f.js"><link rel="prefetch" href="/assets/js/137.a8bf3051.js"><link rel="prefetch" href="/assets/js/138.abd1d266.js"><link rel="prefetch" href="/assets/js/139.1a82f5b1.js"><link rel="prefetch" href="/assets/js/14.6aa09c1e.js"><link rel="prefetch" href="/assets/js/140.999efd15.js"><link rel="prefetch" href="/assets/js/141.65b42b53.js"><link rel="prefetch" href="/assets/js/142.8e075f67.js"><link rel="prefetch" href="/assets/js/143.a5a7a832.js"><link rel="prefetch" href="/assets/js/144.9e0f42ce.js"><link rel="prefetch" href="/assets/js/145.f43689bb.js"><link rel="prefetch" href="/assets/js/146.7744cc4d.js"><link rel="prefetch" href="/assets/js/147.43b2792c.js"><link rel="prefetch" href="/assets/js/148.f6d05b77.js"><link rel="prefetch" href="/assets/js/149.b5eb71f6.js"><link rel="prefetch" href="/assets/js/15.d27d0318.js"><link rel="prefetch" href="/assets/js/150.8511d40c.js"><link rel="prefetch" href="/assets/js/151.6d25a61b.js"><link rel="prefetch" href="/assets/js/152.9cbb15ca.js"><link rel="prefetch" href="/assets/js/153.af554616.js"><link rel="prefetch" href="/assets/js/154.ec6cda37.js"><link rel="prefetch" href="/assets/js/155.ea677197.js"><link rel="prefetch" href="/assets/js/156.008261c0.js"><link rel="prefetch" href="/assets/js/157.38523736.js"><link rel="prefetch" href="/assets/js/158.1a2fe4cd.js"><link rel="prefetch" href="/assets/js/159.2e8c90e0.js"><link rel="prefetch" href="/assets/js/16.3c75fb10.js"><link rel="prefetch" href="/assets/js/160.28f7070d.js"><link rel="prefetch" href="/assets/js/161.c2eb3516.js"><link rel="prefetch" href="/assets/js/162.1457a288.js"><link rel="prefetch" href="/assets/js/163.b3b657e9.js"><link rel="prefetch" href="/assets/js/164.4f6e0091.js"><link rel="prefetch" href="/assets/js/165.f628b10d.js"><link rel="prefetch" href="/assets/js/166.d5d1ad63.js"><link rel="prefetch" href="/assets/js/167.f3989e3c.js"><link rel="prefetch" href="/assets/js/168.1b0204d6.js"><link rel="prefetch" href="/assets/js/169.022aabec.js"><link rel="prefetch" href="/assets/js/17.51d538a7.js"><link rel="prefetch" href="/assets/js/170.19a474d6.js"><link rel="prefetch" href="/assets/js/171.9c6b6e2c.js"><link rel="prefetch" href="/assets/js/172.4579573e.js"><link rel="prefetch" href="/assets/js/173.0647b61f.js"><link rel="prefetch" href="/assets/js/174.c8819083.js"><link rel="prefetch" href="/assets/js/175.44371bb5.js"><link rel="prefetch" href="/assets/js/176.942e507a.js"><link rel="prefetch" href="/assets/js/177.cf073cd0.js"><link rel="prefetch" href="/assets/js/178.4a5f4fd5.js"><link rel="prefetch" href="/assets/js/179.7bde0e93.js"><link rel="prefetch" href="/assets/js/18.4d3df7e7.js"><link rel="prefetch" href="/assets/js/180.9d1e2bb9.js"><link rel="prefetch" href="/assets/js/181.3a04756c.js"><link rel="prefetch" href="/assets/js/182.c458dacb.js"><link rel="prefetch" href="/assets/js/183.19d390a2.js"><link rel="prefetch" href="/assets/js/184.dbfbc547.js"><link rel="prefetch" href="/assets/js/185.8a3eba82.js"><link rel="prefetch" href="/assets/js/19.92994f56.js"><link rel="prefetch" href="/assets/js/20.ae5dfd1b.js"><link rel="prefetch" href="/assets/js/21.168ed5de.js"><link rel="prefetch" href="/assets/js/22.2f67c57c.js"><link rel="prefetch" href="/assets/js/23.75697811.js"><link rel="prefetch" href="/assets/js/24.43feaf86.js"><link rel="prefetch" href="/assets/js/25.d5772239.js"><link rel="prefetch" href="/assets/js/26.649b148e.js"><link rel="prefetch" href="/assets/js/27.16588458.js"><link rel="prefetch" href="/assets/js/28.6cf46164.js"><link rel="prefetch" href="/assets/js/29.23251261.js"><link rel="prefetch" href="/assets/js/3.4ef13626.js"><link rel="prefetch" href="/assets/js/30.e62e86ce.js"><link rel="prefetch" href="/assets/js/31.82fbf8d9.js"><link rel="prefetch" href="/assets/js/32.a0eab83b.js"><link rel="prefetch" href="/assets/js/33.044183cd.js"><link rel="prefetch" href="/assets/js/34.d7946867.js"><link rel="prefetch" href="/assets/js/35.c82ba91a.js"><link rel="prefetch" href="/assets/js/36.c527fde8.js"><link rel="prefetch" href="/assets/js/37.2f5d255c.js"><link rel="prefetch" href="/assets/js/38.cd5189e2.js"><link rel="prefetch" href="/assets/js/39.06ca25d3.js"><link rel="prefetch" href="/assets/js/4.c7b648f4.js"><link rel="prefetch" href="/assets/js/40.79130792.js"><link rel="prefetch" href="/assets/js/41.b2f630fc.js"><link rel="prefetch" href="/assets/js/42.ecf0013d.js"><link rel="prefetch" href="/assets/js/43.0a15bf16.js"><link rel="prefetch" href="/assets/js/44.d6980bc5.js"><link rel="prefetch" href="/assets/js/45.8da6268f.js"><link rel="prefetch" href="/assets/js/46.a6be2f41.js"><link rel="prefetch" href="/assets/js/47.6a44e04f.js"><link rel="prefetch" href="/assets/js/48.e070952b.js"><link rel="prefetch" href="/assets/js/49.dbff08d0.js"><link rel="prefetch" href="/assets/js/5.b8d869f5.js"><link rel="prefetch" href="/assets/js/50.3c3b90a2.js"><link rel="prefetch" href="/assets/js/51.67ece0d3.js"><link rel="prefetch" href="/assets/js/52.8bfdbc17.js"><link rel="prefetch" href="/assets/js/53.b5698dde.js"><link rel="prefetch" href="/assets/js/54.8cc4df76.js"><link rel="prefetch" href="/assets/js/55.65526d30.js"><link rel="prefetch" href="/assets/js/56.0ac5c867.js"><link rel="prefetch" href="/assets/js/57.581a104b.js"><link rel="prefetch" href="/assets/js/58.cd8aa2d9.js"><link rel="prefetch" href="/assets/js/59.55f86da1.js"><link rel="prefetch" href="/assets/js/6.aca50d30.js"><link rel="prefetch" href="/assets/js/60.512c6c43.js"><link rel="prefetch" href="/assets/js/61.22e655e6.js"><link rel="prefetch" href="/assets/js/62.2e90525d.js"><link rel="prefetch" href="/assets/js/63.8dc67bf4.js"><link rel="prefetch" href="/assets/js/64.0e8e01be.js"><link rel="prefetch" href="/assets/js/65.9e35253e.js"><link rel="prefetch" href="/assets/js/66.c1310c7f.js"><link rel="prefetch" href="/assets/js/67.70acc2dc.js"><link rel="prefetch" href="/assets/js/68.68d5af24.js"><link rel="prefetch" href="/assets/js/69.635a39c6.js"><link rel="prefetch" href="/assets/js/7.09e7f700.js"><link rel="prefetch" href="/assets/js/70.be6e3a10.js"><link rel="prefetch" href="/assets/js/71.23ef8710.js"><link rel="prefetch" href="/assets/js/72.f30e9b61.js"><link rel="prefetch" href="/assets/js/73.3f5a7106.js"><link rel="prefetch" href="/assets/js/74.59061cf1.js"><link rel="prefetch" href="/assets/js/75.651a1f84.js"><link rel="prefetch" href="/assets/js/76.75bb83fb.js"><link rel="prefetch" href="/assets/js/77.346d0866.js"><link rel="prefetch" href="/assets/js/78.001ad6d8.js"><link rel="prefetch" href="/assets/js/79.db2e5079.js"><link rel="prefetch" href="/assets/js/8.a824512f.js"><link rel="prefetch" href="/assets/js/80.2dbbeaa4.js"><link rel="prefetch" href="/assets/js/81.047b47e8.js"><link rel="prefetch" href="/assets/js/82.917e43f0.js"><link rel="prefetch" href="/assets/js/83.003837d4.js"><link rel="prefetch" href="/assets/js/84.49fc0430.js"><link rel="prefetch" href="/assets/js/85.cfd56545.js"><link rel="prefetch" href="/assets/js/86.b8c5eec9.js"><link rel="prefetch" href="/assets/js/87.780840ed.js"><link rel="prefetch" href="/assets/js/88.55a567e7.js"><link rel="prefetch" href="/assets/js/89.70d2ecdf.js"><link rel="prefetch" href="/assets/js/9.527f9e5d.js"><link rel="prefetch" href="/assets/js/91.0c4e2653.js"><link rel="prefetch" href="/assets/js/92.dff1859d.js"><link rel="prefetch" href="/assets/js/93.47fe6c51.js"><link rel="prefetch" href="/assets/js/94.999d1243.js"><link rel="prefetch" href="/assets/js/95.eb924893.js"><link rel="prefetch" href="/assets/js/96.db734ab4.js"><link rel="prefetch" href="/assets/js/97.d51b250e.js"><link rel="prefetch" href="/assets/js/98.0334b910.js"><link rel="prefetch" href="/assets/js/99.0e3ba133.js">
    <link rel="stylesheet" href="/assets/css/0.styles.43a358f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Canoe's Dockyard</h3> <p class="description" data-v-59e6cb88>one note&amp;blog during my undergraduate period.</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>canoe</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/leaf.ico" alt="Canoe's Dockyard" class="logo"> <span class="site-name">Canoe's Dockyard</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Home
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link"><i class="undefined"></i>
  Home
</a></li><li class="dropdown-item"><!----> <a href="https://t.me/canoe95" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/lib/" class="nav-link"><i class="undefined"></i>
  Library
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/canoe95" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      2084 Dev
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/dev/algo/" class="nav-link"><i class="undefined"></i>
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/docs/dev/java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/dev/ops/" class="nav-link"><i class="undefined"></i>
  Operations
</a></li><li class="dropdown-item"><!----> <a href="/docs/dev/fe/" class="nav-link"><i class="undefined"></i>
  Front End
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      NEU CS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/cs/ds/" class="nav-link"><i class="undefined"></i>
  Data Structure
</a></li><li class="dropdown-item"><!----> <a href="/docs/cs/cn/" class="nav-link"><i class="undefined"></i>
  Network
</a></li><li class="dropdown-item"><!----> <a href="/docs/cs/os/" class="nav-link router-link-active"><i class="undefined"></i>
  Operating System
</a></li><li class="dropdown-item"><!----> <a href="/docs/cs/co/" class="nav-link"><i class="undefined"></i>
  Organization
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Who Am I
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/i/cs/" class="nav-link"><i class="undefined"></i>
  Cyber Security
</a></li><li class="dropdown-item"><!----> <a href="/docs/i/math/" class="nav-link"><i class="undefined"></i>
  Math
</a></li><li class="dropdown-item"><!----> <a href="/docs/i/ml/" class="nav-link"><i class="undefined"></i>
  Machine Learning
</a></li><li class="dropdown-item"><!----> <a href="/docs/i/es/" class="nav-link"><i class="undefined"></i>
  Embed
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/img/boat.ico" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    canoe
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>162</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>21</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Home
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link"><i class="undefined"></i>
  Home
</a></li><li class="dropdown-item"><!----> <a href="https://t.me/canoe95" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/lib/" class="nav-link"><i class="undefined"></i>
  Library
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/canoe95" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      2084 Dev
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/dev/algo/" class="nav-link"><i class="undefined"></i>
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/docs/dev/java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/dev/ops/" class="nav-link"><i class="undefined"></i>
  Operations
</a></li><li class="dropdown-item"><!----> <a href="/docs/dev/fe/" class="nav-link"><i class="undefined"></i>
  Front End
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      NEU CS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/cs/ds/" class="nav-link"><i class="undefined"></i>
  Data Structure
</a></li><li class="dropdown-item"><!----> <a href="/docs/cs/cn/" class="nav-link"><i class="undefined"></i>
  Network
</a></li><li class="dropdown-item"><!----> <a href="/docs/cs/os/" class="nav-link router-link-active"><i class="undefined"></i>
  Operating System
</a></li><li class="dropdown-item"><!----> <a href="/docs/cs/co/" class="nav-link"><i class="undefined"></i>
  Organization
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Who Am I
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/i/cs/" class="nav-link"><i class="undefined"></i>
  Cyber Security
</a></li><li class="dropdown-item"><!----> <a href="/docs/i/math/" class="nav-link"><i class="undefined"></i>
  Math
</a></li><li class="dropdown-item"><!----> <a href="/docs/i/ml/" class="nav-link"><i class="undefined"></i>
  Machine Learning
</a></li><li class="dropdown-item"><!----> <a href="/docs/i/es/" class="nav-link"><i class="undefined"></i>
  Embed
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>操作系统</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/cs/os/basics/os-outline.html" class="sidebar-link">操作系统绪论</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>CPU 管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>存储管理</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/cs/os/basics/os-memory.html" aria-current="page" class="active sidebar-link">实存</a></li><li><a href="/docs/cs/os/basics/os-virtual.html" class="sidebar-link">虚存</a></li></ul></section></li><li><a href="/docs/cs/os/basics/os-file.html" class="sidebar-link">文件管理</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>汇编与编译</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>实存</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>canoe</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">实存</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>canoe</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>10/27/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>OperatingSystem</span></i></div></div> <div class="theme-reco-content content__default"><blockquote><p>内存管理，又称实存管理</p> <p>共性：用户进程需要全部进入内存，除非用户提供覆盖技术</p> <p>实存管理分为连续（单一、固定、可变）和可离散（页式、段式、段页式）</p></blockquote> <h2 id="地址空间">地址空间</h2> <h3 id="逻辑地址空间和物理地址空间">逻辑地址空间和物理地址空间</h3> <p>程序和数据执行前需存储于内存。为管理方便，用户编写的程序和最终执行的代码位于不同的地址空间（逻辑地址和物理地址）</p> <p>程序从编写到执行</p> <ul><li>编辑</li> <li>编译：二进制模块</li> <li>链接：二进制模块连接库函数等，变为装入模块</li> <li>装入：将装入模块装入内存</li> <li>执行</li></ul> <p>计算机常使用的 3 类地址</p> <ul><li>符号地址：存储变量名、函数名等，符号地址空间或名空间</li> <li>逻辑地址：目标代码所使用地址从 0 开始编号，相对地址</li> <li>物理地址：绝对地址，实地址</li></ul> <h3 id="地址变换和内存共享及保护">地址变换和内存共享及保护</h3> <p>重定位：将逻辑地址转化为物理地址</p> <ul><li>静态重定位：装入时一次性完成地址转换</li> <li>动态重定位：边执行边进行地址变换，程序在内存中可移动</li></ul> <p>内存共享：多个进程通过一个物理内存区域进行通信的方式，常见共享方式如下</p> <ul><li>生产者 - 消费者</li> <li>可重入代码：纯代码，执行期间不改变（只读，由 OS 实现），可共享，如编辑软件、编译软件、运行时库、窗口系统、数据库系统等</li></ul> <p>内存保护</p> <ul><li>存取控制保护：读、写、执行操作权限控制，如<code>chmod 777 nmsl.txt</code></li> <li>地址越界保护：确保每个程序只能访问其所属内存地址空间，保护其他程序正常执行
<ul><li>上下界寄存器：分别表示用户程序内存地址空间的最小 / 大地址，在执行时与之比较，超出范围<code>[x,y]</code>则报错</li> <li>基质 / 重定位寄存器和界限寄存器：记录内存最小值和程序长度，访问时通过<code>[x,x+len]</code>进行判断</li></ul></li></ul> <h3 id="内存的分配和回收">内存的分配和回收</h3> <p>内存分配和回收：内存分为系统区和用户区，系统区放 OS，用户区放用户程序</p> <ul><li>分配和回收，以及多道程序，其操作对象一般都是用户程序，均工作在内存用户区</li></ul> <p>碎片：存储分配中无法利用（容量太小，没有利用价值）的内存空间</p> <ul><li>内部碎片：分配给用户程序的用户空间中没有被占用、也不允许其他程序占用的空间。固定大小的存储分配可能导致内部碎片，如固定分区、页式管理、段页式管理等</li> <li>外部碎片：用户区剩余的、无法利用的存储空间。非固定大小的存储分配可能导致外部碎片，如动态分区、分段存储分配等</li></ul> <h2 id="连续分配管理方式">连续分配管理方式</h2> <p>为用户程序分配连续的内存空间，使得用户程序的逻辑地址相邻，则物理地址也相邻</p> <p>特点</p> <ul><li>整体性，用户程序全部装入内存（覆盖技术可允许部分装入）</li> <li>不支持虚拟存储器</li> <li>作业运行结束才释放所占空间</li></ul> <p>连续存储管理方式：单一连续分区；固定分区；可变分区</p> <h3 id="分区分配管理">分区分配管理</h3> <h4 id="单一连续分区">单一连续分区</h4> <p>单一连续分区：内存用户区最多存放一个用户程序，属于计算机早期的存储方式</p> <ul><li>静态分配，管理简单</li> <li>存在内部碎片；存储器利用率低（单道）；无法实现多道程序共享内存；仅适用于单用户单任务操作系统</li></ul> <h4 id="固定分区">固定分区</h4> <p>固定分区：用户区事先划分为多个分区，每个分区最多可存放一个用户程序，是最早、最简单的可运行多道程序的分区式存储管理模式</p> <ul><li>各分区大小可以相等，也可以不等
<ul><li>当大小相等：适用于一台计算机控制多个相同对象的场合</li> <li>当大小不等：灵活性更高，通常划分为多个较小分区、适量中等分区、少量的大分区；一般来说小分区位于物理地址的小地址端，大分区反之</li></ul></li> <li>使用数据结构<strong>分区使用表</strong>管理各个固定分区，记录各个分区的分区号、容量、编号、起始地址和状态信息等，都是事先规定且不能更改的</li> <li>在使用时，OS 首先查询分区使用表，查不到能用的则拒绝执行进程
<ul><li>比较所需内存和分区内存大小</li> <li>查询分区状态，是否已装入</li></ul></li> <li>特点：事先划分分区，每个分区装一个作业；多个分区并发执行；采用静态重定位技术装入内存
<ul><li>可用于多道程序系统，可采用覆盖技术，利用率较高</li> <li>存在区内部碎片，且需要考虑各任务干扰问题，需要内存保护</li></ul></li></ul> <h4 id="可变分区">可变分区</h4> <p>可变分区：将用户区分为若干分区，分区的大小、个数可灵活变化</p> <ul><li><p>空闲分区表：每个空闲分区（空闲或未分配）占一个条目，在空闲分区表中，相邻空闲取需要合并</p></li> <li><p>空闲分区链：一个双向链表，将所有空闲分区连接起来，其节点信息类似于</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token punctuation">{</span>
    node<span class="token operator">*</span> pre<span class="token punctuation">;</span> <span class="token comment">// 前驱</span>
    node<span class="token operator">*</span> next<span class="token punctuation">;</span> <span class="token comment">// 下一条</span>
    <span class="token keyword">int</span> mem_size<span class="token punctuation">;</span> <span class="token comment">// 分区大小</span>
    <span class="token keyword">int</span> status<span class="token punctuation">;</span> <span class="token comment">// 0 为空闲，1 为已分配</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <p>分区管理方式（单一、固定、可变分区）均使用<strong>界地址</strong>保护内存</p> <h3 id="动态分区分配算法">动态分区分配算法</h3> <h4 id="首次适应算法">首次适应算法</h4> <p>首次适应算法</p> <ul><li>空闲分区表按首地址递增排列，顺序查找，直到找到大小满足的空闲分区</li> <li>找到后，根据作业所需大小分配该空闲分区，多余的部分仍存在空闲分区表中（修改相应表项）</li> <li>未找到，分配失败</li></ul> <h4 id="循环首次适应算法">循环首次适应算法</h4> <p>循环首次适应算法：从上次找到的空闲分区的下一个分区开始，寻找符合的内存区域，找到后分配出和作业所需大小一样的内存</p> <ul><li>减少查找开销，避免低地址区存在很多很小的空闲分区</li> <li>造成大分区分得比较小，不利于大作业装入</li></ul> <h4 id="最佳适应算法">最佳适应算法</h4> <p>最佳适应算法：空闲分区按容量大小递增排序，每次找到最小的符合作业大小的分区并分配内存</p> <ul><li>贪婪思想的表现，每步均为最佳</li> <li>可能产生许多难以利用的小空闲区，宏观上不一定最佳</li></ul> <h4 id="最差适应算法">最差适应算法</h4> <p>最差适应算法：空闲分区按容量大小递减排序，每次分配时将最大的满足作业的分区进行分隔，降低剩余空间</p> <ul><li>分配后的空闲区较大，便于下次使用</li> <li>后期不利于大作业装入</li></ul> <h4 id="快速适应算法">快速适应算法</h4> <p>快速适应算法：又称分类搜索算法，将内存空间大小相同的空闲分区分为一类，并将同类分区通过双向链表相连，同时建立一张分类表索引，记录各类分区的表头指针；当查找分区时，找到最适合的类（最小的大于）的第一快空闲分区进行分配</p> <ul><li>回收空间的算法复杂；一个分区一个进程，同样会造成区内空间浪费（连续性分配管理的通病）</li></ul> <h4 id="伙伴系统">伙伴系统</h4> <p>伙伴系统：将内存分为一个个<code>2^k</code>大小的块，并将<code>2^n</code>块分配个各个作业</p> <ul><li>设初始状态为 1024 MB，首次接收到一个需要 100 MB 的作业，分出 128 MB 的内存块给这个作业，剩下内存从大到小进行分割</li> <li>从大到小指剩下的 896 MB 依次分为 512 MB、256 MB、128 MB</li> <li>每次接收到之后都会进行这样的分割，伙伴系统将相同大小的块进行分类管理（以快速适应算法的形式管理）</li></ul> <p>在为作业寻找内存块时，假设所需 n MB，且<code>2^(k-1) &lt;= n &lt;= 2^k</code></p> <ul><li>需要明确的是，肯定要找比 n 大的内存块，即从 2^k MB 开始找</li> <li>若存在，直接分配<code>2^k</code>的内存块</li> <li>若不存在，继续往大了找，找到后，从大的内存块中分<code>2^k</code>给该进程，剩下的空间分成一个或多个<code>2^k</code>大的内存块，插入链表</li></ul> <p>若一直找到最大内存的记录，链表均为空，则分配失败</p> <h4 id="散列算法">散列算法</h4> <p>Hash 散列，以<code>HashMap&lt;内存大小,内存块链表指针&gt;</code>的形式记录内存块，查找时从 map 中直接查找即可</p> <h4 id="分区分配动态管理">分区分配动态管理</h4> <p>为了解决连续分配产生的很多无法分配的细碎小空间，通过<strong>拼接 / 紧凑</strong>，移动内存中的作业，使之邻接，再将内存中分散的小空闲合并成大空闲分区实现</p> <p>这一过程需要进行进程的<strong>动态重定位</strong>，通过重定位寄存器实现，存储进程在内存的起始地址，在实际寻址时，通过相对地址和寄存器中的起始地址求和得到</p> <h2 id="页式管理">页式管理</h2> <p>非连续存储管理：页式管理；段式管理；段页式管理</p> <h3 id="地址映射">地址映射</h3> <p>非连续分配又称为离散分配管理，将进程的逻辑地址分为若干等大区域，称为逻辑页、页面或页，从 0 开始编号，通过<strong>页表</strong>进行管理</p> <ul><li>页空间过大会造成最后一个页空间浪费较大（只有进程的最后一个页才会出现区内空间浪费）</li> <li>页空间过小会造成页表过长</li></ul> <p>物理空间中，也将物理地址分为一个个大小与页面相等的内存块，与页一一对应，用于存储进程的各个页面</p> <p>在这种管理方式下，逻辑地址格式为：页号位 + 页内偏移量位（参考计组知识）
<section><eqn><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>页号位数</mtext><mo>=</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mtext>页面数量</mtext><mo>=</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mtext>内存总大小</mtext><mi mathvariant="normal">/</mi><mtext>页内大小</mtext><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>偏移量位数</mtext><mo>=</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mtext>页内大小</mtext></mrow><annotation encoding="application/x-tex">
页号位数 = log_2页面数量 = log_2(内存总大小/页内大小)\\
偏移量位数 = log_2页内大小
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">页号位数</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">页面数量</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord cjk_fallback">内存总大小</span><span class="mord">/</span><span class="mord cjk_fallback">页内大小</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">偏移量位数</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">页内大小</span></span></span></span></span></eqn></section></p> <h3 id="单级页表">单级页表</h3> <p>页表：索引结构，从上往下依次是逻辑页 0, 1, ... , n-1 对应的物理块号和存取控制权限，访问时，根据逻辑页号读取对应的物理块号</p> <table><thead><tr><th>块号</th> <th>存取控制</th></tr></thead> <tbody><tr><td>1000</td> <td>RWE</td></tr> <tr><td>50</td> <td>RWE</td></tr> <tr><td>...</td> <td>...</td></tr> <tr><td>2000</td> <td>RWE</td></tr> <tr><td>...</td> <td>...</td></tr> <tr><td>600</td> <td>RWE</td></tr></tbody></table> <p>地址变换借助页表实现，将逻辑地址的页号转换为内存的物理块号。同时设置有页表寄存器（PTR），记录页表的起始位置和长度帮助<strong>基本地址变换机构</strong>查询</p> <p>查询流程</p> <ul><li>CPU 访问 PTR，找到进程对应页表</li> <li>根据逻辑页号找到对应的物理块号</li> <li>块号和页内地址的二进制拼凑成实际物理地址
<ul><li>块号通过逻辑地址第一段查询页表得到</li> <li>页内地址由逻辑地址第二段提供</li></ul></li> <li>访问实际物理地址存取数据</li></ul> <p>常见的两种基本地址变换机构</p> <p>查询页表</p> <img src="/assets/img/QQ截图20221031212703.d00ddb13.png"> <p>增加快表，先查询快表 TLB，若无再查询页表</p> <img src="/assets/img/QQ截图20221031213145.b29c5f33.png"> <p>这里涉及到一个访问时间的问题，由于页表常驻内存，访问页表算一次访问内存时间，同时访问物理地址数据也算一次访问内存</p> <p>设访问内存时间为 T，访问快表（缓存）时间为 t，则存/取一次数据，所需时间</p> <ul><li>基本地址变换机构：2T</li> <li>增加快表的地址变换机构：[λt + (1-λ)(T+t)] + T = (2-λ)T + t</li></ul> <h3 id="分级页表">分级页表</h3> <p>现代计算机系统地址位数大多为 32/64 位，这意味着逻辑地址空间在<code>2^32~2^64</code>，页表极大，且要占连续内存空间，于是采用分级页表解决页表过大问题，常见的有：二级页表、三级页表、反置页表</p> <p>对于 32 位计算机，逻辑地址空间<code>2^32B</code>，设一个内存块大小为<code>4KB(2^10)</code>，若采用单级页表，将会有<code>2^22</code>个页面，即页表有<code>2^22</code>行（4MB）</p> <h4 id="二级页表">二级页表</h4> <p>二级页表：将整个单级页表分为若干个独立页表进行储存</p> <p>适用于 32 位计算机 —— 设页内空间<code>2^12</code>，二级页表将整个 20 位的页表分为两部分，外层页号 P1 和外层页内地址 P2，各占 10 位</p> <ul><li>外层页表 10 位，存储 1024 个页表项，每一项指向一个外层页内地址</li> <li>外层页内地址 10 位，存储 1024 个页表项，每一项指向一个进程块号</li></ul> <p>外层页内地址即指针数组，指向一个个进程块号，外层页表同样是指针数组，指向的对象是一个个指针数组的起始位置</p> <ul><li>外层页表 —— 页表的页表</li> <li>指针所占的总空间其实增加了，但拆分的更细，占用连续空间更小（将数组拆分为链表）</li> <li>CPU 首先通过外部页表寄存器查找外部页表</li></ul> <p>二级页表最终通过外层页内地址找到块号 b 后，和逻辑页内地址 d 拼接成内存物理地址</p> <p>共需<strong>三次</strong>访问内存（多一次页表访问）</p> <ul><li>第一次：访问外层页表</li> <li>第二次：访问外层页内地址</li> <li>第三次：访问内容</li></ul> <p>如何减少二级页表下的内存开销？</p> <ul><li>不将外层页内地址全部存放在内存中，即部分存放在外存</li> <li>将外层页表每项增设状态位，记录其对应外层页内地址是否在内存中</li> <li>实际访问时，若状态位位 1，直接访问内存中的外层页内地址，若不在，产生中断调入内存</li></ul> <h4 id="多级页表">多级页表</h4> <p>开始套娃，适用于 64 位计算机，分为 20 位 P1，15 位 P2，15 位 P3，最终通过 P3 得到物理块号 b，和 14 位的页内地址 d 拼接成物理地址</p> <h4 id="反置页表">反置页表</h4> <p>不同于记录逻辑地址指针，对应物理块号；反置页表记录的是物理块所存放的逻辑页页号和所属进程标识</p> <ul><li>逻辑页号 ——&gt; 物理块号：在每个进程的表中：primary key = 逻辑页号</li> <li>物理块号 ——&gt; 进程号 + 逻辑页号：primary key = 物理块号</li></ul> <p>检索时，搜索的时进程号和逻辑页号，找到了，其序号就是物理块号；若没找到，说明逻辑页未装入内存，需要请求调用（虚拟存储器）</p> <h2 id="其他非连续存储管理">其他非连续存储管理</h2> <h3 id="段式管理">段式管理</h3> <p>页，按容量管理，克服页外碎片，最后一个页可能存在业内碎片</p> <p>段式管理，以程序的功能逻辑为单位进行内存分配，将作业地址空间分为若干段</p> <ul><li>每个段具有标识</li> <li>每个段的段内一定连续，段间可不连续</li> <li>作业装入时整个装入</li></ul> <p>优点</p> <ul><li>便于编程，如按函数和过程划分</li> <li>便于共享，如共享<code>printf</code>函数</li> <li>便于分段</li> <li>动态链接</li> <li>动态增长</li></ul> <p>进程的段式管理的逻辑地址格式：段号 + 段内地址</p> <ul><li>表示该进程最多分为段号位个段，每个段大小最多为段内地址位</li></ul> <p>段式管理通过段表（常驻内存或放在寄存器）对段进行管理，每个进程有一个映射段表，每个段在段表中占一行，<strong>下标为段号</strong>，每行包含<strong>段长和段起始位置</strong></p> <ul><li>段号一定要小于段长（段表长度）</li></ul> <p>和单级页表类似，每访问一次数据需要两次访问内存，可以通过增设快表 TLB 加快访问</p> <h3 id="段页式管理">段页式管理</h3> <p>若段内功能过于复杂，可能导致段过大，于是采用段页式管理，先进行分段，再在段内进行分页</p> <p>地址格式</p> <ul><li>逻辑地址分为：段号 + 页号 + 页内地址</li> <li>段表每行记录：页表长度，页表起始位置</li> <li>页表每行记录：下标为页号，内容为物理块号</li></ul> <p>查询过程：共三次读内存</p> <ul><li>查段表，根据段号读取页表，得到页表长度及起始位置</li> <li>查页表，根据页号获取物理块号</li> <li>根据块号拼接页内地址获取物理地址，访问数据</li></ul></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">10/12/2023, 2:51:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/docs/cs/os/basics/os-deadlock.html" class="prev">
          死锁
        </a></span> <span class="next"><a href="/docs/cs/os/basics/os-virtual.html">
          虚存
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#地址空间" class="sidebar-link reco-side-地址空间" data-v-b57cc07c>地址空间</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#逻辑地址空间和物理地址空间" class="sidebar-link reco-side-逻辑地址空间和物理地址空间" data-v-b57cc07c>逻辑地址空间和物理地址空间</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#地址变换和内存共享及保护" class="sidebar-link reco-side-地址变换和内存共享及保护" data-v-b57cc07c>地址变换和内存共享及保护</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#内存的分配和回收" class="sidebar-link reco-side-内存的分配和回收" data-v-b57cc07c>内存的分配和回收</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#连续分配管理方式" class="sidebar-link reco-side-连续分配管理方式" data-v-b57cc07c>连续分配管理方式</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#分区分配管理" class="sidebar-link reco-side-分区分配管理" data-v-b57cc07c>分区分配管理</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#动态分区分配算法" class="sidebar-link reco-side-动态分区分配算法" data-v-b57cc07c>动态分区分配算法</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#页式管理" class="sidebar-link reco-side-页式管理" data-v-b57cc07c>页式管理</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#地址映射" class="sidebar-link reco-side-地址映射" data-v-b57cc07c>地址映射</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#单级页表" class="sidebar-link reco-side-单级页表" data-v-b57cc07c>单级页表</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#分级页表" class="sidebar-link reco-side-分级页表" data-v-b57cc07c>分级页表</a></li><li class="level-2" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#其他非连续存储管理" class="sidebar-link reco-side-其他非连续存储管理" data-v-b57cc07c>其他非连续存储管理</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#段式管理" class="sidebar-link reco-side-段式管理" data-v-b57cc07c>段式管理</a></li><li class="level-3" data-v-b57cc07c><a href="/docs/cs/os/basics/os-memory.html#段页式管理" class="sidebar-link reco-side-段页式管理" data-v-b57cc07c>段页式管理</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="/song/baiyang.aac" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:44px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="/img/error.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(/img/error.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>白羊</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>northboat</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><!----><div class="RibbonAnimation"></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:99;" data-v-248d85d6></canvas></div><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/assets/js/app.c458001f.js" defer></script><script src="/assets/js/11.84a9796d.js" defer></script><script src="/assets/js/1.ebe4176a.js" defer></script><script src="/assets/js/90.6ae2896a.js" defer></script>
  </body>
</html>
