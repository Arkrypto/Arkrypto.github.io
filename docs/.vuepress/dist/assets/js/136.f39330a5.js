(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{1433:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("è½¯ä»¶ä¸šçš„äººä¹äºåšè¿™æ ·çš„äº‹ â€”â€” æ‰¾ä¸€äº›è¯æ±‡ï¼Œå¹¶æŠŠå®ƒä»¬å¼•ç”³åˆ°å¤§é‡å¾®å¦™è€Œåˆäº’ç›¸çŸ›ç›¾çš„æ„ä¹‰ â€”â€” ã€ŠPatterns of Enterprise Application Architectureã€‹")])]),t._v(" "),s("h2",{attrs:{id:"åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°"}},[t._v("#")]),t._v(" åˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚è¿°")]),t._v(" "),s("p",[t._v("åˆ†å¸ƒå¼ç³»ç»Ÿçš„å®šä¹‰ï¼šå¤šä¸ªè®¡ç®—æœºé€šè¿‡ç½‘ç»œååŒå·¥ä½œè€Œå¯¹å¤–è¡¨ç°ä¸ºä¸€ä¸ªæ•´ä½“")]),t._v(" "),s("p",[t._v("å…¸å‹åº”ç”¨")]),t._v(" "),s("ul",[s("li",[t._v("åˆ†å¸ƒå¼æ•°æ®åº“ï¼ˆå¦‚ MongoDBã€HBaseï¼‰")]),t._v(" "),s("li",[t._v("åˆ†å¸ƒå¼å­˜å‚¨ï¼ˆå¦‚ Hadoop HDFSã€Cephï¼‰")]),t._v(" "),s("li",[t._v("åˆ†å¸ƒå¼è®¡ç®—ï¼ˆå¦‚ Sparkã€Flinkï¼‰")]),t._v(" "),s("li",[t._v("å¾®æœåŠ¡æ¶æ„ï¼ˆå¦‚ Spring Cloudã€Dubboï¼‰")])]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿ"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿ")]),t._v(" "),s("p",[t._v("è¦è§£é‡Šä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¾—ä»åˆ†å¸ƒå¼æ¶æ„è¯´èµ·ï¼Œå®ƒå®šä¹‰äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°æ–¹æ³•ï¼Œå®ƒæè¿°äº†ç³»ç»Ÿçš„ç»“æ„ã€ç»„ä»¶å¦‚ä½•äº¤äº’ã€æ•°æ®å¦‚ä½•å­˜å‚¨ã€è®¡ç®—å¦‚ä½•åˆ†é…ç­‰ã€‚å¯ä»¥è¯´ï¼Œæ¶æ„æ˜¯é’¢ç­‹ï¼Œè€Œç³»ç»Ÿæ˜¯æ¥¼æˆ¿ï¼Œç³»ç»Ÿä¾èµ–äºæ¶æ„")]),t._v(" "),s("p",[t._v("å¸¸è§çš„åˆ†å¸ƒå¼æ¶æ„æ¨¡å¼")]),t._v(" "),s("ol",[s("li",[t._v("ä¸»ä»æ¶æ„ï¼ˆMaster-Slaveï¼‰ï¼šé€‚ç”¨äºæ•°æ®åº“è¯»å†™åˆ†ç¦»ï¼Œå¦‚ MySQL ä¸»ä»å¤åˆ¶")]),t._v(" "),s("li",[t._v("åˆ†ç‰‡æ¶æ„ï¼ˆShardingï¼‰ï¼šé€‚ç”¨äºé«˜å¹¶å‘åœºæ™¯ï¼Œå¦‚ Elasticsearch æ•°æ®åˆ†ç‰‡")]),t._v(" "),s("li",[t._v("å¾®æœåŠ¡æ¶æ„ï¼ˆMicroservicesï¼‰ï¼šé€‚ç”¨äºä¼ä¸šçº§åº”ç”¨ï¼Œå¦‚ Spring Cloud/Dubbo")]),t._v(" "),s("li",[t._v("äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDA, Event-Driven Architectureï¼‰ï¼šé€‚ç”¨äºé«˜ååä¸šåŠ¡ï¼Œå¦‚ Kafka æ¶ˆæ¯é˜Ÿåˆ—å¤„ç†æ—¥å¿—æµ")])]),t._v(" "),s("p",[t._v("åœ¨è¿™äº›æ¶æ„æ¨¡å¼ä¹‹ä¸Šï¼Œæ„å»ºäº†ä¸€ä¸ªä¸ªæ‰€è°“çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚æœ€å¸¸è§çš„åº”ç”¨æ·˜å®ã€äº¬ä¸œç­‰ï¼Œéƒ½æ˜¯é‡‡ç”¨"),s("strong",[t._v("å¾®æœåŠ¡æ¶æ„")]),t._v("çš„åˆ†å¸ƒå¼ç³»ç»Ÿ")]),t._v(" "),s("p",[t._v("é€šå¸¸ï¼ŒSpring å°å­ï¼ˆæ²¡é”™å°±æ˜¯æˆ‘ï¼‰å¼€å‘çš„æ‰€è°“åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œéƒ½ç¦»ä¸å¼€å¾®æœåŠ¡æ¶æ„ï¼ˆSpring Cloudï¼‰")]),t._v(" "),s("h3",{attrs:{id:"ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ†å¸ƒå¼è®¾è®¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ†å¸ƒå¼è®¾è®¡"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ†å¸ƒå¼è®¾è®¡")]),t._v(" "),s("p",[t._v("åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒç‰¹ç‚¹")]),t._v(" "),s("ul",[s("li",[t._v("å¤šæœºåä½œï¼šä»»åŠ¡ç”±å¤šä¸ªè®¡ç®—æœºåä½œå®Œæˆï¼Œè€Œéå•æœºå¤„ç†")]),t._v(" "),s("li",[t._v("æ•°æ®å…±äº«ï¼šä¸åŒèŠ‚ç‚¹ä¹‹é—´å…±äº«æ•°æ®ï¼Œå¯èƒ½æ¶‰åŠæ•°æ®ä¸€è‡´æ€§é—®é¢˜")]),t._v(" "),s("li",[t._v("å»ä¸­å¿ƒåŒ–ï¼šé¿å…å•ç‚¹æ•…éšœï¼Œæé«˜ç³»ç»Ÿå¯ç”¨æ€§")]),t._v(" "),s("li",[t._v("å¹¶å‘æ€§ï¼šå¤šä¸ªèŠ‚ç‚¹å¯ä»¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ï¼Œæé«˜ååé‡")]),t._v(" "),s("li",[t._v("å®¹é”™èƒ½åŠ›ï¼šæŸäº›èŠ‚ç‚¹å®•æœºæ—¶ï¼Œç³»ç»Ÿä»èƒ½ç»§ç»­è¿è¡Œ")])]),t._v(" "),s("p",[t._v("è¯´ç™½äº†ï¼Œå°±æ˜¯æ‰©å±•æ€§å¥½ã€ç¨³å®šæ€§é«˜ã€å®¹é”™å¼º â€”â€” â€œç‹¡å…”ä¸‰çªŸâ€")]),t._v(" "),s("h2",{attrs:{id:"spring-cloud"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud"}},[t._v("#")]),t._v(" Spring Cloud")]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-spring-cloud"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-spring-cloud"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯ Spring Cloud")]),t._v(" "),s("p",[t._v("åˆšåˆšä¹Ÿè¯´åˆ°ï¼ŒSpring Cloud æ˜¯ Java ç”Ÿæ€ä¸­æœ€æˆç†Ÿçš„"),s("strong",[t._v("å¾®æœåŠ¡æ¶æ„")]),t._v("è§£å†³æ–¹æ¡ˆä¹‹ä¸€")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å¾®æœåŠ¡æ¶æ„ï¼ˆMicroservices Architectureï¼‰")]),t._v(" æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå®ƒå°†åº”ç”¨æ‹†åˆ†ä¸º"),s("strong",[t._v("å¤šä¸ªç‹¬ç«‹è¿è¡Œçš„æœåŠ¡")]),t._v("ï¼Œæ¯ä¸ªæœåŠ¡è´Ÿè´£å•ä¸€ä¸šåŠ¡åŠŸèƒ½ï¼ŒæœåŠ¡ä¹‹é—´é€šè¿‡ APIï¼ˆé€šå¸¸æ˜¯ HTTP+JSON æˆ– gRPCï¼‰è¿›è¡Œé€šä¿¡")])]),t._v(" "),s("p",[t._v("Spring Cloud å°±æ˜¯ä¸“é—¨ç”¨äº"),s("strong",[t._v("æ„å»ºã€ç®¡ç†å’Œç»´æŠ¤å¾®æœåŠ¡æ¶æ„")]),t._v("çš„æ¡†æ¶ï¼Œæä¾›äº†ä¸€æ•´å¥—å®Œæ•´çš„å¾®æœåŠ¡æ¶æ„è§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–"),s("strong",[t._v("æœåŠ¡æ³¨å†Œå‘ç°ã€è´Ÿè½½å‡è¡¡ã€é…ç½®ç®¡ç†ã€ç†”æ–­é™æµã€åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª")]),t._v("ç­‰å…³é”®åŠŸèƒ½")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ç»„ä»¶")]),t._v(" "),s("th",[t._v("ä½œç”¨")]),t._v(" "),s("th",[t._v("å…·ä½“è€Œè¨€")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Spring Cloud Eureka")]),t._v(" "),s("td",[t._v("æœåŠ¡æ³¨å†Œä¸å‘ç°")]),t._v(" "),s("td",[t._v("è´Ÿè´£ç®¡ç†å¾®æœåŠ¡å®ä¾‹ï¼Œç±»ä¼¼äº DNS")])]),t._v(" "),s("tr",[s("td",[t._v("Spring Cloud LoadBalancer")]),t._v(" "),s("td",[t._v("è´Ÿè½½å‡è¡¡")]),t._v(" "),s("td",[t._v("è®©å¤šä¸ªå®ä¾‹å‡è¡¡æ¥æ”¶è¯·æ±‚")])]),t._v(" "),s("tr",[s("td",[t._v("Spring Cloud OpenFeign")]),t._v(" "),s("td",[t._v("æœåŠ¡è°ƒç”¨")]),t._v(" "),s("td",[t._v("é€šè¿‡ HTTP è¿œç¨‹è°ƒç”¨å…¶ä»–å¾®æœåŠ¡")])]),t._v(" "),s("tr",[s("td",[t._v("Spring Cloud Gateway")]),t._v(" "),s("td",[t._v("API ç½‘å…³")]),t._v(" "),s("td",[t._v("ç»Ÿä¸€æµé‡å…¥å£ï¼Œè·¯ç”±è¯·æ±‚å¹¶æä¾›å®‰å…¨æ§åˆ¶")])]),t._v(" "),s("tr",[s("td",[t._v("Spring Cloud Config")]),t._v(" "),s("td",[t._v("é…ç½®ç®¡ç†")]),t._v(" "),s("td",[t._v("ç»Ÿä¸€ç®¡ç†åˆ†å¸ƒå¼ç³»ç»Ÿçš„é…ç½®")])]),t._v(" "),s("tr",[s("td",[t._v("Spring Cloud Sleuth & Zipkin")]),t._v(" "),s("td",[t._v("åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª")]),t._v(" "),s("td",[t._v("ç›‘æ§è¯·æ±‚çš„è°ƒç”¨é“¾è·¯ï¼Œæ’æŸ¥æ€§èƒ½ç“¶é¢ˆ")])]),t._v(" "),s("tr",[s("td",[t._v("Spring Cloud Resilience4J")]),t._v(" "),s("td",[t._v("ç†”æ–­é™æµ")]),t._v(" "),s("td",[t._v("ä¿æŠ¤æœåŠ¡é¿å…é›ªå´©æ•ˆåº”ï¼ˆCircuit Breakerï¼‰")])]),t._v(" "),s("tr",[s("td",[t._v("Spring Cloud Stream")]),t._v(" "),s("td",[t._v("æ¶ˆæ¯é˜Ÿåˆ—")]),t._v(" "),s("td",[t._v("è®©æœåŠ¡é—´å¼‚æ­¥é€šä¿¡ï¼ˆæ”¯æŒ Kafkaã€RabbitMQï¼‰")])])])]),t._v(" "),s("p",[t._v("Spring Cloud ä¸»è¦åŸºäº Spring Boot")]),t._v(" "),s("h3",{attrs:{id:"ä¸€ä¸ªç»å…¸çš„-spring-cloud-æ¶æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ä¸ªç»å…¸çš„-spring-cloud-æ¶æ„"}},[t._v("#")]),t._v(" ä¸€ä¸ªç»å…¸çš„ Spring Cloud æ¶æ„")]),t._v(" "),s("p",[t._v("å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”µå•†ç³»ç»Ÿï¼ŒåŒ…å«")]),t._v(" "),s("ul",[s("li",[t._v("ç”¨æˆ·æœåŠ¡ï¼ˆUser Serviceï¼‰")]),t._v(" "),s("li",[t._v("è®¢å•æœåŠ¡ï¼ˆOrder Serviceï¼‰")]),t._v(" "),s("li",[t._v("å•†å“æœåŠ¡ï¼ˆProduct Serviceï¼‰")]),t._v(" "),s("li",[t._v("æ”¯ä»˜æœåŠ¡ï¼ˆPayment Serviceï¼‰")]),t._v(" "),s("li",[t._v("ç½‘å…³ï¼ˆGatewayï¼‰")])]),t._v(" "),s("p",[t._v("å…¶ä½“ç³»æ¶æ„å¦‚ä¸‹")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-----------------------+")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Spring Cloud Gateway  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-----------------------+")]),t._v("\n                                 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("------------------+------------------+")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("------------+      +------------+      +------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ç”¨æˆ·æœåŠ¡    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" è®¢å•æœåŠ¡    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" å•†å“æœåŠ¡    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--\x3e | (Order)    | <--\x3e | (Product)  |")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("------------+      +------------+      +------------+")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("------------------+")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                                     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("------------+                      +----------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" æ”¯ä»˜æœåŠ¡    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" æ¶ˆæ¯é˜Ÿåˆ—"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Kafka"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Payment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-----------------\x3e | äº‹ä»¶é©±åŠ¨        |")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("------------+                      +----------------+")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("p",[t._v("åœ¨è¿™ä¸ªæ¶æ„ä¸­")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Spring Cloud Gateway")]),t._v(" å……å½“ API å…¥å£ï¼Œç®¡ç†æ‰€æœ‰ HTTP è¯·æ±‚")]),t._v(" "),s("li",[s("strong",[t._v("Eureka")]),t._v(" è´Ÿè´£ç®¡ç†æ‰€æœ‰å¾®æœåŠ¡å®ä¾‹ï¼Œå®ç°"),s("strong",[t._v("æœåŠ¡å‘ç°")])]),t._v(" "),s("li",[s("strong",[t._v("Feign")]),t._v(" è®©æœåŠ¡ä¹‹é—´å¯ä»¥æ›´ä¼˜é›…åœ°ç›¸äº’è°ƒç”¨ï¼Œè€Œä¸ç”¨è‡ªå·±å†™ HTTP è¯·æ±‚")]),t._v(" "),s("li",[s("strong",[t._v("Resilience4J")]),t._v(" ç¡®ä¿æœåŠ¡æ•…éšœæ—¶è‡ªåŠ¨ç†”æ–­ï¼Œé˜²æ­¢çº§è”æ•…éšœ")]),t._v(" "),s("li",[s("strong",[t._v("Kafka")]),t._v(" å®ç°å¼‚æ­¥æ¶ˆæ¯é€šä¿¡ï¼ˆå¦‚è®¢å•å®Œæˆåé€šçŸ¥æ”¯ä»˜æœåŠ¡ï¼‰")])]),t._v(" "),s("h3",{attrs:{id:"nio-å’Œ-netty"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nio-å’Œ-netty"}},[t._v("#")]),t._v(" NIO å’Œ Netty")]),t._v(" "),s("blockquote",[s("p",[t._v("Spring Cloud ç”Ÿæ€ä¸­ä¼—å¤šå¾®æœåŠ¡ç»„ä»¶çš„åº•å±‚é€šä¿¡ç»„ä»¶")])]),t._v(" "),s("p",[t._v("Nettyï¼šåŸºäº Java NIO å¼€å‘çš„ç½‘ç»œæµæ¡†æ¶ï¼Œæ˜¯ Java é¢†åŸŸéå¸¸å¼ºå¤§çš„"),s("strong",[t._v("é«˜æ€§èƒ½ç½‘ç»œé€šä¿¡æ¡†æ¶")]),t._v("ï¼Œå¾ˆå¤šä¸­é—´ä»¶ï¼ˆDubboã€Elasticsearchã€RocketMQã€gRPC ç­‰ï¼‰éƒ½ç”¨å®ƒä½œä¸ºåº•å±‚é€šä¿¡ç»„ä»¶")]),t._v(" "),s("p",[t._v("ç®€å•æ¥è¯´ï¼šNetty æ˜¯ "),s("strong",[t._v("ä¸€ä¸ªå°è£…äº† Java NIO çš„ç½‘ç»œæ¡†æ¶")]),t._v("ï¼Œè®©å¼€å‘è€…èƒ½è½»æ¾æ„å»ºé«˜æ€§èƒ½çš„ TCP/UDP ç½‘ç»œæœåŠ¡ï¼Œè€Œä¸ç”¨è‡ªå·±å»å†™ç¹ççš„ Selectorã€Channelã€Buffer è¿™äº›ä½çº§ API")]),t._v(" "),s("p",[s("strong",[t._v("ä»€ä¹ˆæ˜¯ NIOï¼Ÿ")])]),t._v(" "),s("p",[t._v("NIOï¼ˆNew Input/Outputï¼‰ æ˜¯ Java 1.4 å¼•å…¥çš„ä¸€ç»„ APIï¼Œç”¨äºæä¾›**éé˜»å¡ï¼ˆAsynchronousï¼‰**çš„è¾“å…¥è¾“å‡ºæ“ä½œï¼Œå®ƒè®©æˆ‘ä»¬èƒ½æ›´é«˜æ•ˆåœ°å¤„ç†å¤§é‡çš„ I/O æ“ä½œã€‚")]),t._v(" "),s("p",[t._v("NIO ä¸»è¦çš„ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿ"),s("strong",[t._v("ä¸é˜»å¡çº¿ç¨‹")]),t._v("æ¥å¤„ç† I/O æ“ä½œï¼Œå®ƒæ˜¯ä¸ºäº†å¼¥è¡¥ä¼ ç»Ÿçš„é˜»å¡ I/Oï¼ˆBIOï¼‰å’Œ é«˜å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½ç“¶é¢ˆè€Œè®¾è®¡çš„")]),t._v(" "),s("ul",[s("li",[t._v("æ€ä¹ˆå®ç°çš„éé˜»å¡ï¼Ÿ")])]),t._v(" "),s("p",[s("strong",[t._v("Selector")]),t._v(" å’Œ "),s("strong",[t._v("Channel")]),t._v(" æ˜¯ NIO çš„æ ¸å¿ƒç»„æˆï¼Œé€šè¿‡"),s("strong",[t._v("äº‹ä»¶é©±åŠ¨")]),t._v("å®ç°å¼‚æ­¥éé˜»å¡ I/O æ“ä½œ")]),t._v(" "),s("p",[s("strong",[t._v("Netty é«˜æ€§èƒ½çš„å…³é”®")])]),t._v(" "),s("p",[t._v("ğŸ”¹ 1. çº¿ç¨‹æ±  + äº‹ä»¶é©±åŠ¨")]),t._v(" "),s("p",[t._v("Netty é‡‡ç”¨å¤š Reactor çº¿ç¨‹æ¨¡å‹ï¼Œé€šè¿‡ "),s("strong",[t._v("EventLoopGroup + çº¿ç¨‹æ± ")]),t._v("ï¼Œé¿å…ä¼ ç»Ÿ BIO çš„"),s("strong",[t._v("ä¸€çº¿ç¨‹ä¸€è¿æ¥")]),t._v("ä½æ•ˆæ¨¡å¼ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("BIOï¼ˆé˜»å¡ IOï¼‰ï¼šä¸€ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªè¿æ¥")]),t._v(" "),s("li",[t._v("NIOï¼ˆéé˜»å¡ IOï¼‰ï¼šå¤šä¸ªè¿æ¥å…±äº«ä¸€ä¸ªçº¿ç¨‹")]),t._v(" "),s("li",[t._v("Nettyï¼ˆå¤š Reactor æ¨¡å‹ï¼‰ï¼šå¤šä¸ªçº¿ç¨‹æ± é«˜æ•ˆç®¡ç†è¿æ¥")])]),t._v(" "),s("p",[t._v("ğŸ“Œ ç¤ºä¾‹ï¼šNetty çº¿ç¨‹æ± ")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventLoopGroup")]),t._v(" bossGroup "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NioEventLoopGroup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†è¿æ¥")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventLoopGroup")]),t._v(" workerGroup "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NioEventLoopGroup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†è¯»å†™")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("hr"),t._v(" "),s("p",[t._v("ğŸ”¹ 2. é›¶æ‹·è´ï¼ˆZero-Copyï¼‰")]),t._v(" "),s("p",[t._v("Netty é€šè¿‡ "),s("strong",[t._v("DirectByteBufã€CompositeByteBuf")]),t._v(" è¿›è¡Œé›¶æ‹·è´ä¼˜åŒ–ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å‡å°‘ CPU æ‹·è´ï¼ˆé¿å… "),s("code",[t._v("System.arraycopy")]),t._v("ï¼‰")]),t._v(" "),s("li",[t._v("å‡å°‘å†…å­˜åˆ†é…ï¼ˆå‡å°‘ GC å‹åŠ›ï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("å‡å°‘ "),s("strong",[t._v("Buffer")]),t._v(" å¤åˆ¶")]),t._v("ï¼ˆç›´æ¥æ“ä½œå †å¤–å†…å­˜ï¼‰")])]),t._v(" "),s("p",[t._v("ğŸ“Œ **ç¤ºä¾‹ï¼š**Netty ç›´æ¥ä½¿ç”¨å †å¤–å†…å­˜")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ByteBuf")]),t._v(" buffer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Unpooled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("directBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›´æ¥åˆ†é…å †å¤–å†…å­˜")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("hr"),t._v(" "),s("p",[t._v("ğŸ”¹ 3. Pooled Bufferï¼ˆæ± åŒ–å†…å­˜ï¼‰")]),t._v(" "),s("p",[t._v("Netty ä½¿ç”¨å†…å­˜æ± ï¼ˆBuffer Poolï¼‰ï¼Œé‡å¤åˆ©ç”¨ ByteBufï¼Œé¿å…åå¤åˆ›å»ºå¯¹è±¡ã€‚")]),t._v(" "),s("p",[t._v("ğŸ“Œ ç¤ºä¾‹ï¼šä½¿ç”¨æ± åŒ–çš„ ByteBuf")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ByteBuf")]),t._v(" pooledBuf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PooledByteBufAllocator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("buffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("hr"),t._v(" "),s("p",[t._v("ğŸ”¹ 4. TCP ç²˜åŒ…/æ‹†åŒ…å¤„ç†")]),t._v(" "),s("p",[t._v("TCP å‘é€æ•°æ®æ—¶ï¼Œå¤šä¸ªå°åŒ…å¯èƒ½åˆå¹¶æˆä¸€ä¸ªå¤§åŒ…ï¼ˆ"),s("strong",[t._v("ç²˜åŒ…")]),t._v("ï¼‰ï¼Œæˆ–è€…ä¸€ä¸ªå¤§åŒ…è¢«æ‹†æˆå¤šä¸ªå°åŒ…ï¼ˆ"),s("strong",[t._v("æ‹†åŒ…")]),t._v("ï¼‰ã€‚Netty é€šè¿‡"),s("strong",[t._v("è§£ç å™¨")]),t._v("è§£å†³æ­¤é—®é¢˜ã€‚")]),t._v(" "),s("p",[t._v("ğŸ“Œ ç¤ºä¾‹ï¼šä½¿ç”¨ Netty æä¾›çš„æ‹†åŒ…è§£ç å™¨")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipeline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addLast")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LengthFieldBasedFrameDecoder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("ä¸Šé¢è¿™ä¸ª LengthFieldBasedFrameDecoder è§£ç å™¨ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æŒ‰ç…§æ•°æ®åŒ…é•¿åº¦å­—æ®µè§£ææ¶ˆæ¯")]),t._v(" "),s("li",[t._v("é¿å… TCP ç²˜åŒ…/æ‹†åŒ…é—®é¢˜")])]),t._v(" "),s("h2",{attrs:{id:"rpc-æ¡†æ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rpc-æ¡†æ¶"}},[t._v("#")]),t._v(" RPC æ¡†æ¶")]),t._v(" "),s("p",[t._v("RPCï¼ˆRemote Procedure Callï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰æ˜¯ä¸€ç§"),s("strong",[t._v("å…è®¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ä¸åŒæœåŠ¡åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡")]),t._v("çš„æŠ€æœ¯ã€‚RPC æ¡†æ¶å°è£…äº†åº•å±‚çš„ç½‘ç»œé€šä¿¡ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œä½¿å¼€å‘è€…å¯ä»¥é€æ˜åœ°è¿›è¡Œè¿œç¨‹è°ƒç”¨ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨å¤„ç†å¤æ‚çš„ç½‘ç»œç¼–ç¨‹")]),t._v(" "),s("h3",{attrs:{id:"why-rpc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#why-rpc"}},[t._v("#")]),t._v(" Why RPC?")]),t._v(" "),s("p",[t._v("åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸åŒçš„æœåŠ¡å¯èƒ½éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œå®ƒä»¬éœ€è¦ç›¸äº’é€šä¿¡ã€‚ä¾‹å¦‚")]),t._v(" "),s("ul",[s("li",[t._v("ç”µå•†ç³»ç»Ÿï¼šè®¢å•æœåŠ¡éœ€è¦è°ƒç”¨åº“å­˜æœåŠ¡æ£€æŸ¥åº“å­˜ï¼Œå†è°ƒç”¨æ”¯ä»˜æœåŠ¡å¤„ç†æ”¯ä»˜")]),t._v(" "),s("li",[t._v("å¾®æœåŠ¡æ¶æ„ï¼šå¤šä¸ªå¾®æœåŠ¡ä¹‹é—´éœ€è¦ç›¸äº’è°ƒç”¨ï¼Œæ¯”å¦‚ç”¨æˆ·è®¤è¯æœåŠ¡ã€è®¢å•æœåŠ¡ã€å•†å“æœåŠ¡ç­‰")])]),t._v(" "),s("p",[t._v("å®ƒå¯¹æ ‡çš„æ˜¯ "),s("strong",[t._v("HTTP/REST")]),t._v(" é€šä¿¡ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥ç›´æ¥é€šè¿‡æ‰“è¯·æ±‚çš„æ–¹å¼è·å–æ•°æ®ï¼Œä¾‹å¦‚")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RestTemplate")]),t._v(" restTemplate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RestTemplate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" restTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getForObject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://server/user?id=1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("å½“ç„¶äº†ï¼Œè¿™æ˜¯åŸå§‹çš„å®ç°æ–¹å¼ï¼ŒSpring Cloud æä¾›æœ‰ä¼˜é›…ä¸€ç‚¹çš„å¹³æ›¿ â€”â€” Spring Cloud OpenFeignï¼Œä½†ä»–ä»ç„¶æ˜¯é€šè¿‡ HTTP å®ç°çš„æœåŠ¡é€šä¿¡")]),t._v(" "),s("p",[t._v("åªè¦æ˜¯åŸºäº HTTPï¼Œå°±ä¼šæœ‰")]),t._v(" "),s("ul",[s("li",[t._v("è¯·æ±‚ä½“è¾ƒå¤§ï¼ˆHTTP è¯·æ±‚å¤´ã€JSON åºåˆ—åŒ–ç­‰ï¼‰")]),t._v(" "),s("li",[t._v("æ€§èƒ½æŸè€—ï¼ˆHTTP éœ€è¦è§£ææ–‡æœ¬ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„å¼€é”€å¤§ï¼‰")]),t._v(" "),s("li",[t._v("åè®®ä¸å¤Ÿé«˜æ•ˆï¼ˆHTTP æ˜¯åŸºäºæ–‡æœ¬çš„ï¼Œè€Œ RPC å¯ä»¥é‡‡ç”¨æ›´é«˜æ•ˆçš„äºŒè¿›åˆ¶åè®®ï¼‰")])]),t._v(" "),s("p",[t._v("è€Œ RPC è§£å†³äº†è¿™äº›é—®é¢˜")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æ›´é«˜æ•ˆ")]),t._v("ï¼šä½¿ç”¨"),s("strong",[t._v("äºŒè¿›åˆ¶åè®®")]),t._v("ï¼ˆå¦‚ Protobufï¼‰ï¼Œå‡å°‘æ•°æ®ä¼ è¾“ä½“ç§¯")]),t._v(" "),s("li",[s("strong",[t._v("æ›´é€æ˜")]),t._v("ï¼šåƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡")]),t._v(" "),s("li",[s("strong",[t._v("æ›´æ˜“æ‰©å±•")]),t._v("ï¼šå†…ç½®"),s("strong",[t._v("è´Ÿè½½å‡è¡¡ã€æœåŠ¡æ³¨å†Œä¸å‘ç°ã€æµé‡æ§åˆ¶")]),t._v("ç­‰åŠŸèƒ½")])]),t._v(" "),s("h3",{attrs:{id:"å·¥ä½œåŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å·¥ä½œåŸç†"}},[t._v("#")]),t._v(" å·¥ä½œåŸç†")]),t._v(" "),s("p",[t._v("RPC æ¡†æ¶ä¸»è¦åŒ…å«"),s("strong",[t._v("å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ã€æ³¨å†Œä¸­å¿ƒ")]),t._v("ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶")]),t._v(" "),s("ol",[s("li",[t._v("å®¢æˆ·ç«¯ï¼ˆClient Stubï¼‰\n"),s("ul",[s("li",[t._v("å‘é€è¯·æ±‚ç»™æœåŠ¡ç«¯ï¼Œå°±åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·")]),t._v(" "),s("li",[t._v("è´Ÿè´£åºåˆ—åŒ–è¯·æ±‚æ•°æ®ï¼ˆå°† Java å¯¹è±¡è½¬æ¢æˆå­—èŠ‚æµï¼‰")])])]),t._v(" "),s("li",[t._v("æœåŠ¡ç«¯ï¼ˆServer Stubï¼‰\n"),s("ul",[s("li",[t._v("ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè°ƒç”¨å¯¹åº”çš„æœ¬åœ°æ–¹æ³•ï¼Œå¹¶è¿”å›ç»“æœ")]),t._v(" "),s("li",[t._v("è´Ÿè´£ååºåˆ—åŒ–è¯·æ±‚æ•°æ®ï¼ˆå°†å­—èŠ‚æµè½¬æ¢æˆ Java å¯¹è±¡ï¼‰")])])]),t._v(" "),s("li",[t._v("æ³¨å†Œä¸­å¿ƒï¼ˆService Registryï¼‰\n"),s("ul",[s("li",[t._v("ç»´æŠ¤æ‰€æœ‰å¯ç”¨çš„æœåŠ¡åˆ—è¡¨")]),t._v(" "),s("li",[t._v("å®¢æˆ·ç«¯åœ¨è°ƒç”¨æ—¶"),s("strong",[t._v("åŠ¨æ€å‘ç°æœåŠ¡")]),t._v("ï¼Œè€Œä¸æ˜¯å†™æ­» IP åœ°å€")]),t._v(" "),s("li",[t._v("å¸¸ç”¨çš„æ³¨å†Œä¸­å¿ƒï¼šZookeeperã€Nacos")])])])]),t._v(" "),s("p",[t._v("RPC å…¸å‹æµç¨‹")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("1ï¸âƒ£ å®¢æˆ·ç«¯è°ƒç”¨æœ¬åœ°æ–¹æ³•ï¼ˆä¼ªè£…æˆæ™®é€šçš„ Java æ–¹æ³•ï¼‰\n2ï¸âƒ£ RPC æ¡†æ¶å°†è¯·æ±‚æ•°æ®åºåˆ—åŒ–å¹¶å‘é€åˆ°æœåŠ¡ç«¯\n3ï¸âƒ£ æœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚ï¼Œååºåˆ—åŒ–æ•°æ®ï¼Œå¹¶è°ƒç”¨ç›®æ ‡æ–¹æ³•\n4ï¸âƒ£ ç›®æ ‡æ–¹æ³•æ‰§è¡Œåè¿”å›ç»“æœ\n5ï¸âƒ£ æœåŠ¡ç«¯å°†è¿”å›ç»“æœåºåˆ—åŒ–å¹¶å‘é€å›å®¢æˆ·ç«¯\n6ï¸âƒ£ å®¢æˆ·ç«¯æ¥æ”¶ç»“æœï¼Œè¿”å›ç»™è°ƒç”¨æ–¹\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("å¸¸è§ RPC æ¡†æ¶")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("RPC æ¡†æ¶")]),t._v(" "),s("th",[t._v("è¯­è¨€")]),t._v(" "),s("th",[t._v("ä¸»è¦ç‰¹ç‚¹")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("gRPC")])]),t._v(" "),s("td",[t._v("å¤šè¯­è¨€ï¼ˆJavaã€Goã€Pythonç­‰ï¼‰")]),t._v(" "),s("td",[t._v("Google å¼€å‘ï¼ŒåŸºäº HTTP/2 å’Œ Protobufï¼Œé«˜æ€§èƒ½ï¼Œæ”¯æŒæµå¼é€šä¿¡")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Dubbo")])]),t._v(" "),s("td",[t._v("Java")]),t._v(" "),s("td",[t._v("é˜¿é‡Œå·´å·´å¼€å‘ï¼Œæ”¯æŒæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æµé‡æ§åˆ¶")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Motan")])]),t._v(" "),s("td",[t._v("Java")]),t._v(" "),s("td",[t._v("ç¾å›¢å¼€æºï¼Œè½»é‡çº§ï¼Œé€‚ç”¨äºé«˜å¹¶å‘åœºæ™¯")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Thrift")])]),t._v(" "),s("td",[t._v("å¤šè¯­è¨€ï¼ˆJavaã€C++ã€Pythonç­‰ï¼‰")]),t._v(" "),s("td",[t._v("Facebook å¼€å‘ï¼Œæ”¯æŒå¤šç§è¯­è¨€ï¼Œé€‚ç”¨äºè·¨è¯­è¨€ RPC")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Tars")])]),t._v(" "),s("td",[t._v("å¤šè¯­è¨€ï¼ˆJavaã€C++ã€Goç­‰ï¼‰")]),t._v(" "),s("td",[t._v("è…¾è®¯å¼€æºï¼Œæ”¯æŒå¤§è§„æ¨¡åˆ†å¸ƒå¼åº”ç”¨")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Hessian")])]),t._v(" "),s("td",[t._v("Java")]),t._v(" "),s("td",[t._v("ç®€å•æ˜“ç”¨ï¼Œé€‚ç”¨äºå°å‹åº”ç”¨ï¼Œåºåˆ—åŒ–é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼")])])])]),t._v(" "),s("h3",{attrs:{id:"dubbo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dubbo"}},[t._v("#")]),t._v(" Dubbo")]),t._v(" "),s("p",[t._v("Dubbo æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ Java RPC æ¡†æ¶ï¼ŒåŸºäº Netty å®ç°ï¼Œç”¨äºå¾®æœåŠ¡é—´é€šä¿¡")]),t._v(" "),s("p",[s("strong",[t._v("ä»£ç ç¤ºä¾‹")])]),t._v(" "),s("p",[t._v("1ï¸âƒ£ æ·»åŠ ä¾èµ–")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.dubbo"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dubbo-spring-boot-starter"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.7.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("2ï¸âƒ£ å®šä¹‰æ¥å£")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserService")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("3ï¸âƒ£ å®ç°æœåŠ¡ç«¯")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@DubboService")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserServiceImpl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserService")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¼ ä¸‰"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("4ï¸âƒ£ å®ç°å®¢æˆ·ç«¯")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@DubboReference")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserService")]),t._v(" userService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("å½“ç„¶äº†ï¼Œåœ¨å®¢æˆ·ç«¯éœ€è¦å¯¹æ³¨å†Œä¸­å¿ƒï¼ˆå¦‚ Nacosï¼‰åœ¨ application.yaml è¿›è¡Œé…ç½®ï¼Œè¿™æ ·åœ¨ç¢°åˆ°"),s("code",[t._v("@DubboReference")]),t._v("æ³¨è§£æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å»æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢éœ€è¦çš„æœåŠ¡åœ°å€")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dubbo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" consumer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®¢æˆ·ç«¯åº”ç”¨å")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("registry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("address")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nacos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8848")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿™é‡Œé…ç½®çš„æ˜¯æ³¨å†Œä¸­å¿ƒçš„åœ°å€")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dubbo\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("-1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -1 è¡¨ç¤ºéšæœºç«¯å£")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("å…·ä½“è°ƒç”¨æµç¨‹æ˜¯")]),t._v(" "),s("ol",[s("li",[t._v("æœåŠ¡ç«¯ï¼ˆProviderï¼‰å¯åŠ¨æ—¶ï¼Œå®ƒä¼šæŠŠè‡ªå·±çš„æœåŠ¡ä¿¡æ¯ï¼ˆæ¥å£ã€åœ°å€ã€ç«¯å£ç­‰ï¼‰æ³¨å†Œåˆ° Nacos/Zookeeper")]),t._v(" "),s("li",[t._v("å®¢æˆ·ç«¯ï¼ˆConsumerï¼‰å¯åŠ¨æ—¶ï¼Œå®ƒä¼šå»"),s("strong",[t._v("æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢")]),t._v("éœ€è¦çš„æœåŠ¡åœ°å€")]),t._v(" "),s("li",[t._v("å½“ä»£ç è¿è¡Œåˆ° "),s("code",[t._v("@DubboReference")]),t._v(" æ—¶ï¼ŒDubbo ä»£ç†ä¼š"),s("strong",[t._v("æ ¹æ®æ³¨å†Œä¸­å¿ƒçš„ä¿¡æ¯æ‰¾åˆ°è¿œç¨‹æœåŠ¡")]),t._v("ï¼Œç„¶åå»ºç«‹è¿æ¥å¹¶æ‰§è¡Œè°ƒç”¨")])]),t._v(" "),s("p",[t._v("ğŸ’¡ "),s("strong",[t._v("å½“å°è¯•ä¿®æ”¹æœåŠ¡ç«¯çš„ IP åœ°å€æ—¶ï¼Œå®¢æˆ·ç«¯èƒ½å¤Ÿè‡ªåŠ¨å‘ç°è¯·æ±‚åœ°å€å˜åŒ–ï¼Œè¿™æ˜¯æ³¨å†Œä¸­å¿ƒå®Œæˆçš„å·¥ä½œï¼Œå¯¹äº RPC å®¢æˆ·ç«¯æ˜¯å®Œå…¨é€æ˜çš„")]),t._v(" ğŸš€")]),t._v(" "),s("p",[t._v("å¦å¤–ï¼ŒDubbo å†…ç½®äº†"),s("strong",[t._v("è´Ÿè½½å‡è¡¡ã€é‡è¯•æœºåˆ¶ã€è¶…æ—¶æ§åˆ¶")]),t._v("çš„åŠŸèƒ½ï¼Œå‡å¯ä»¥åœ¨ application.yaml ä¸­è¿›è¡Œé…ç½®")]),t._v(" "),s("h3",{attrs:{id:"zookeeper-nacos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper-nacos"}},[t._v("#")]),t._v(" Zookeeper & Nacos")]),t._v(" "),s("p",[t._v("æ³¨å†Œä¸­å¿ƒæ˜¯"),s("strong",[t._v("å¾®æœåŠ¡é€šä¿¡çš„æ ¸å¿ƒ")]),t._v("ï¼ŒDubbo æ— è®ºæ˜¯æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯å‡ä¼šåœ¨æ³¨å†Œä¸­å¿ƒè¿›è¡ŒåŠ¨æ€ç®¡ç†")]),t._v(" "),s("h2",{attrs:{id:"ç†”æ–­å’Œé™æµ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç†”æ–­å’Œé™æµ"}},[t._v("#")]),t._v(" ç†”æ–­å’Œé™æµ")]),t._v(" "),s("h3",{attrs:{id:"ç†”æ–­-resilience4j"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç†”æ–­-resilience4j"}},[t._v("#")]),t._v(" ç†”æ–­ï¼šResilience4J")]),t._v(" "),s("p",[t._v("ç†”æ–­ï¼ˆCircuit Breakerï¼‰å’Œé™æµï¼ˆRate Limitingï¼‰æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­"),s("strong",[t._v("ä¿éšœæœåŠ¡é«˜å¯ç”¨æ€§å’Œç¨³å®šæ€§")]),t._v("çš„é‡è¦æ‰‹æ®µï¼Œä¸»è¦ç”¨äº"),s("strong",[t._v("é˜²æ­¢é›ªå´©æ•ˆåº”")]),t._v("ï¼Œç¡®ä¿åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ç³»ç»Ÿèƒ½å¹³ç¨³è¿è¡Œ")]),t._v(" "),s("ul",[s("li",[t._v("ç†”æ–­ï¼ˆCircuit Breakerï¼‰ç±»ä¼¼äº"),s("strong",[t._v("å®¶é‡Œçš„ç”µè·¯ä¿é™©ä¸")]),t._v("ï¼Œå½“ç”µæµè¿‡å¤§æ—¶ï¼Œä¿é™©ä¸ä¼šæ–­å¼€ç”µè·¯ï¼Œä»¥é˜²ç”µå™¨æŸåã€‚åœ¨"),s("strong",[t._v("åˆ†å¸ƒå¼ç³»ç»Ÿ")]),t._v("ä¸­ï¼Œç†”æ–­æœºåˆ¶ç”¨äº"),s("strong",[t._v("æ£€æµ‹æœåŠ¡æ˜¯å¦æ•…éšœï¼Œå¹¶åœ¨æ•…éšœä¸¥é‡æ—¶è‡ªåŠ¨é˜»æ­¢è¯·æ±‚ï¼Œä»¥é˜²æ­¢ç³»ç»Ÿå´©æºƒ")])])]),t._v(" "),s("p",[t._v("ç†”æ–­å™¨é€šå¸¸æœ‰ä»¥ä¸‹"),s("strong",[t._v("ä¸‰ç§çŠ¶æ€")])]),t._v(" "),s("ol",[s("li",[t._v("å…³é—­ï¼ˆClosedï¼‰ï¼šæœåŠ¡æ­£å¸¸è¿è¡Œï¼Œè¯·æ±‚å¯ä»¥è‡ªç”±é€šè¿‡")]),t._v(" "),s("li",[t._v("æ‰“å¼€ï¼ˆOpenï¼‰ï¼šå½“é”™è¯¯ç‡è¾¾åˆ°é˜ˆå€¼ï¼Œç†”æ–­å™¨æ‰“å¼€ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«æ‹’ç»ï¼Œé˜²æ­¢ç³»ç»Ÿç»§ç»­å´©æºƒ")]),t._v(" "),s("li",[t._v("åŠå¼€ï¼ˆHalf-Openï¼‰ï¼šç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œç³»ç»Ÿå°è¯•æ”¾è¡Œéƒ¨åˆ†è¯·æ±‚è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœæ¢å¤æ­£å¸¸ï¼Œç†”æ–­å™¨å…³é—­ï¼Œå¦åˆ™ä¿æŒæ‰“å¼€çŠ¶æ€")])]),t._v(" "),s("p",[t._v("Spring Cloud ä»¥å‰ä½¿ç”¨ "),s("strong",[t._v("Hystrix")]),t._v(" ä½œä¸ºç†”æ–­ç»„ä»¶ï¼Œä½†ç°åœ¨æ¨èä½¿ç”¨ "),s("strong",[t._v("Resilience4J")]),t._v("ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("1ï¸âƒ£ æ·»åŠ ä¾èµ–")])]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.github.resilience4j"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("resilience4j-spring-boot2"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.7.1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("strong",[t._v("2ï¸âƒ£ ä»£ç ç¤ºä¾‹")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@CircuitBreaker")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"paymentService"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fallbackMethod "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fallbackPayment"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callPaymentService")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨è¿œç¨‹æ”¯ä»˜æœåŠ¡")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" restTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getForObject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://payment-service/pay"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç†”æ–­åçš„é™çº§æ–¹æ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fallbackPayment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ”¯ä»˜æœåŠ¡ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[s("strong",[t._v("3ï¸âƒ£ é…ç½®ç†”æ–­é˜ˆå€¼")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resilience4j.circuitbreaker")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instances")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paymentService")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("failureRateThreshold")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¤±è´¥ç‡è¾¾åˆ° 50% æ—¶è§¦å‘ç†”æ–­")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("waitDurationInOpenState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5000ms  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç†”æ–­å 5 ç§’å†å°è¯•æ¢å¤")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("permittedNumberOfCallsInHalfOpenState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åŠå¼€çŠ¶æ€æ—¶å…è®¸ 3 ä¸ªè¯·æ±‚è¿›è¡Œå°è¯•")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("ğŸ‘‰ è¿™æ ·ï¼Œå½“æ”¯ä»˜æœåŠ¡å¤±è´¥ç‡è¶…è¿‡ 50% æ—¶ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨èµ° "),s("code",[t._v("fallbackPayment")]),t._v(" æ–¹æ³•ï¼Œè€Œä¸ä¼šç»§ç»­å°è¯•è®¿é—®å·²æ•…éšœçš„æ”¯ä»˜æœåŠ¡")]),t._v(" "),s("h3",{attrs:{id:"é™æµ-gateway"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é™æµ-gateway"}},[t._v("#")]),t._v(" é™æµï¼šGateway")]),t._v(" "),s("p",[t._v("é™æµï¼ˆRate Limitingï¼‰æ˜¯ä¸€ç§"),s("strong",[t._v("é™åˆ¶è¯·æ±‚é€Ÿç‡")]),t._v("çš„æŠ€æœ¯ï¼Œé˜²æ­¢å•ä¸ªæœåŠ¡è¢«è¿‡é‡è¯·æ±‚æ‹–å®ï¼Œç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿå¹³ç¨³è¿è¡Œ")]),t._v(" "),s("p",[t._v("ä¸ºä»€ä¹ˆéœ€è¦é™æµï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("é˜²æ­¢æµé‡æš´å¢å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆå¦‚åŒåä¸€è´­ç‰©ã€ç§’æ€æ´»åŠ¨ï¼‰")]),t._v(" "),s("li",[t._v("é˜²æ­¢æ¶æ„æ”»å‡»ï¼ˆå¦‚çˆ¬è™«ã€DDoS æ”»å‡»ï¼‰")]),t._v(" "),s("li",[t._v("åˆç†åˆ†é…ç³»ç»Ÿèµ„æºï¼Œä¿éšœ VIP ç”¨æˆ·çš„ä¼˜å…ˆçº§")])]),t._v(" "),s("p",[t._v("Spring Cloud Gateway å†…ç½®äº†åŸºäº "),s("strong",[t._v("Redis ä»¤ç‰Œæ¡¶ç®—æ³•")]),t._v("çš„é™æµåŠŸèƒ½")]),t._v(" "),s("p",[s("strong",[t._v("1ï¸âƒ£ æ·»åŠ  Redis ä¾èµ–")])]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-data-redis-reactive"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[s("strong",[t._v("2ï¸âƒ£ é…ç½®é™æµè§„åˆ™")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cloud")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uri")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("predicates")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Path=/orders/"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("**")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filters")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" RequestRateLimiter\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redis-rate-limiter.replenishRate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¯ç§’è¡¥å…… 10 ä¸ªä»¤ç‰Œ")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redis-rate-limiter.burstCapacity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…è®¸çš„æœ€å¤§çªå‘æµé‡")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key-resolver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#{@apiKeyResolver}"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é™æµçš„ key è§„åˆ™")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[s("strong",[t._v("3ï¸âƒ£ è‡ªå®šä¹‰ Key è§£æå™¨")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeyResolver")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("userKeyResolver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" exchange "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mono")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("just")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exchange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRemoteAddress")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHostName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("ğŸ‘‰ è¿™æ ·ï¼Œæ¯ä¸ª IP åœ°å€æ¯ç§’æœ€å¤šåªèƒ½è®¿é—® 10 æ¬¡ APIï¼Œè¶…å‡ºåä¼šè¢«é™æµ")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ç‰¹æ€§")]),t._v(" "),s("th",[t._v("ç†”æ–­ï¼ˆCircuit Breakerï¼‰")]),t._v(" "),s("th",[t._v("é™æµï¼ˆRate Limitingï¼‰")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ç›®çš„")]),t._v(" "),s("td",[t._v("ä¿æŠ¤æœåŠ¡ï¼Œé˜²æ­¢é›ªå´©")]),t._v(" "),s("td",[t._v("ä¿æŠ¤ç³»ç»Ÿï¼Œé˜²æ­¢è¿‡è½½")])]),t._v(" "),s("tr",[s("td",[t._v("è§¦å‘æ¡ä»¶")]),t._v(" "),s("td",[t._v("è¿œç¨‹æœåŠ¡æ•…éšœç‡é«˜")]),t._v(" "),s("td",[t._v("è®¿é—®é‡è¶…å‡ºé™åˆ¶")])]),t._v(" "),s("tr",[s("td",[t._v("ä½œç”¨")]),t._v(" "),s("td",[t._v("æš‚åœè®¿é—®æ•…éšœæœåŠ¡")]),t._v(" "),s("td",[t._v("é™åˆ¶è¯·æ±‚é€Ÿç‡")])]),t._v(" "),s("tr",[s("td",[t._v("é€‚ç”¨åœºæ™¯")]),t._v(" "),s("td",[t._v("å¾®æœåŠ¡é—´è°ƒç”¨")]),t._v(" "),s("td",[t._v("API ç½‘å…³ã€ç§’æ€æ´»åŠ¨")])]),t._v(" "),s("tr",[s("td",[t._v("å®ç°å·¥å…·")]),t._v(" "),s("td",[t._v("Resilience4Jã€Hystrix")]),t._v(" "),s("td",[t._v("Spring Cloud Gatewayã€Redis")])])])]),t._v(" "),s("h3",{attrs:{id:"ç†”æ–­-vs-é™æµ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç†”æ–­-vs-é™æµ"}},[t._v("#")]),t._v(" ç†”æ–­ VS é™æµ")]),t._v(" "),s("p",[t._v("ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç†”æ–­ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨é™æµï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("ç†”æ–­ï¼šå½“ä½ è°ƒç”¨çš„"),s("strong",[t._v("è¿œç¨‹æœåŠ¡å˜æ…¢æˆ–å´©æºƒ")]),t._v("æ—¶ï¼Œé˜²æ­¢è¯·æ±‚ç»§ç»­å †ç§¯å¯¼è‡´æ•´ä¸ªç³»ç»ŸæŒ‚æ‰")]),t._v(" "),s("li",[t._v("é™æµï¼šå½“ä½ çš„æœåŠ¡"),s("strong",[t._v("æµé‡æš´å¢")]),t._v("æ—¶ï¼Œé˜²æ­¢æœåŠ¡å™¨èµ„æºè¢«è€—å°½")])]),t._v(" "),s("p",[t._v("ç°å®æ¡ˆä¾‹")]),t._v(" "),s("ul",[s("li",[t._v("æ·˜å®åŒåä¸€ï¼šé«˜å¹¶å‘é™æµï¼Œé˜²æ­¢æµé‡å†²å®ç³»ç»Ÿ")]),t._v(" "),s("li",[t._v("å¾®ä¿¡æ”¯ä»˜ï¼šå¦‚æœæ”¯ä»˜æ¥å£æ•…éšœï¼Œå¯ç”¨ç†”æ–­ï¼Œæ˜¾ç¤ºâ€œæ”¯ä»˜ç³»ç»Ÿç¹å¿™â€")])]),t._v(" "),s("p",[s("strong",[t._v("æ€»ç»“")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ç†”æ–­")]),t._v("ç”¨äº"),s("strong",[t._v("ä¿æŠ¤æœåŠ¡")]),t._v("ï¼Œé˜²æ­¢é›ªå´©æ•ˆåº”")]),t._v(" "),s("li",[s("strong",[t._v("é™æµ")]),t._v("ç”¨äº"),s("strong",[t._v("å¹³ç¨³æµé‡")]),t._v("ï¼Œé˜²æ­¢é«˜å¹¶å‘æ‹–å®ç³»ç»Ÿ")]),t._v(" "),s("li",[s("strong",[t._v("Spring Cloud Resilience4J")]),t._v(" æä¾›"),s("strong",[t._v("ç†”æ–­")]),t._v("æœºåˆ¶ï¼Œ"),s("strong",[t._v("Spring Cloud Gateway")]),t._v(" æä¾›"),s("strong",[t._v("é™æµ")]),t._v("åŠŸèƒ½")]),t._v(" "),s("li",[s("strong",[t._v("åœ¨å®è·µä¸­")]),t._v("ï¼šé™æµ + ç†”æ–­ "),s("strong",[t._v("ç»„åˆä½¿ç”¨")]),t._v("ï¼Œç¡®ä¿åˆ†å¸ƒå¼ç³»ç»Ÿç¨³å®šè¿è¡Œ")])]),t._v(" "),s("h2",{attrs:{id:"æ¶ˆæ¯é˜Ÿåˆ—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯é˜Ÿåˆ—"}},[t._v("#")]),t._v(" æ¶ˆæ¯é˜Ÿåˆ—")]),t._v(" "),s("h3",{attrs:{id:"kafka"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kafka"}},[t._v("#")]),t._v(" Kafka")]),t._v(" "),s("h3",{attrs:{id:"rabbitmq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq"}},[t._v("#")]),t._v(" RabbitMQ")]),t._v(" "),s("h2",{attrs:{id:"å¤§æ•°æ®è®¡ç®—æ¡†æ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤§æ•°æ®è®¡ç®—æ¡†æ¶"}},[t._v("#")]),t._v(" å¤§æ•°æ®è®¡ç®—æ¡†æ¶")]),t._v(" "),s("h3",{attrs:{id:"flink"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flink"}},[t._v("#")]),t._v(" Flink")]),t._v(" "),s("p",[t._v("åœ¨å¤§æ•°æ®åœºæ™¯ä¸­ï¼ŒFlink ç»å¸¸å’Œ Kafka æ­é…ï¼Œç”¨æ¥æ¶ˆè´¹ Kafka çš„æ•°æ®æµ")]),t._v(" "),s("ol",[s("li",[t._v("Kafka ç”Ÿäº§æ•°æ®ï¼ˆæ—¥å¿—ã€ç”¨æˆ·ç‚¹å‡»ã€è®¾å¤‡æ•°æ®ç­‰ï¼‰")]),t._v(" "),s("li",[t._v("Flink è¿›è¡Œå®æ—¶å¤„ç†ï¼ˆèšåˆã€åˆ†æã€æ¸…æ´—ï¼‰")]),t._v(" "),s("li",[t._v("å¤„ç†ç»“æœå­˜å…¥ Kafka / æ•°æ®åº“ / Elasticsearch")])]),t._v(" "),s("p",[t._v("ğŸ“Œ ç¤ºä¾‹ï¼šFlink è¯»å– Kafka å¹¶ç»Ÿè®¡ç”¨æˆ·ç‚¹å‡»é‡")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamExecutionEnvironment")]),t._v(" env "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamExecutionEnvironment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getExecutionEnvironment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FlinkKafkaConsumer")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" kafkaConsumer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FlinkKafkaConsumer")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_clicks"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SimpleStringSchema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" properties"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataStream")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" stream "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("kafkaConsumer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»Ÿè®¡æ¯ä¸ªç”¨æˆ·çš„ç‚¹å‡»æ¬¡æ•°")]),t._v("\nstream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Tuple2")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keyBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nenv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Kafka Stream Processing"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"spark"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spark"}},[t._v("#")]),t._v(" Spark")]),t._v(" "),s("p",[t._v("ä¸åŒäº Flink ä¸“æ³¨äºæµå¤„ç†ï¼ŒSpark ä»¥æ‰¹å¤„ç†ä¸ºä¸»")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("å¯¹æ¯”é¡¹")])]),t._v(" "),s("th",[s("strong",[t._v("Flink")])]),t._v(" "),s("th",[s("strong",[t._v("Spark")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("è®¡ç®—æ¨¡å¼")])]),t._v(" "),s("td",[t._v("ä¸»è¦æ˜¯"),s("strong",[t._v("æµè®¡ç®—")]),t._v("ï¼Œä¹Ÿæ”¯æŒæ‰¹å¤„ç†")]),t._v(" "),s("td",[t._v("ä¸»è¦æ˜¯"),s("strong",[t._v("æ‰¹å¤„ç†")]),t._v("ï¼Œæ”¯æŒæµè®¡ç®—")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("å»¶è¿Ÿ")])]),t._v(" "),s("td",[t._v("æ¯«ç§’çº§")]),t._v(" "),s("td",[t._v("ç§’çº§")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("ååé‡")])]),t._v(" "),s("td",[t._v("é«˜ååï¼Œé€‚ç”¨äºé«˜å¹¶å‘")]),t._v(" "),s("td",[t._v("è¾ƒé«˜ååï¼Œä½†ç¨é€Šäº Flink")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("æ•…éšœæ¢å¤")])]),t._v(" "),s("td",[s("strong",[t._v("Exactly-Once è¯­ä¹‰")]),t._v("ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§")]),t._v(" "),s("td",[s("strong",[t._v("At-Least-Once")]),t._v("ï¼Œå¯èƒ½é‡å¤è®¡ç®—")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("API å…¼å®¹æ€§")])]),t._v(" "),s("td",[t._v("æä¾› SQLã€Javaã€Python API")]),t._v(" "),s("td",[t._v("æä¾› SQLã€Scalaã€Java API")])])])]),t._v(" "),s("h2",{attrs:{id:"elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[t._v("#")]),t._v(" Elasticsearch")]),t._v(" "),s("blockquote",[s("p",[t._v("åŸºäº Netty çš„åˆ†å¸ƒå¼æœç´¢å¼•æ“")])]),t._v(" "),s("p",[t._v("Elasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œéœ€è¦"),s("strong",[t._v("èŠ‚ç‚¹é—´é€šä¿¡")]),t._v("å’Œ"),s("strong",[t._v("å®¢æˆ·ç«¯è¯·æ±‚å¤„ç†")])]),t._v(" "),s("ul",[s("li",[t._v("é›†ç¾¤å†…éƒ¨é€šä¿¡ï¼ˆèŠ‚ç‚¹é—´åŒæ­¥æ•°æ®ï¼‰")]),t._v(" "),s("li",[t._v("å®¢æˆ·ç«¯è¯·æ±‚å¤„ç†ï¼ˆHTTP è®¿é—® REST APIï¼‰")])]),t._v(" "),s("p",[t._v("Elasticsearch é‡‡ç”¨ Netty ä½œä¸ºåº•å±‚é€šä¿¡æ¡†æ¶ï¼Œæ¥å®ç°é«˜æ•ˆçš„ "),s("strong",[t._v("TCP è¿æ¥ç®¡ç†")]),t._v("å’Œ"),s("strong",[t._v("æ•°æ®ä¼ è¾“")])]),t._v(" "),s("p",[t._v("åˆšåˆšä¹Ÿæåˆ°ï¼ŒKafka ä¸ Flink æ­é…ä½¿ç”¨ä»¥å¤„ç†å¤§è§„æ¨¡æµæ•°æ®ï¼Œæœ€åçš„æ•°æ®æµå‘å¯ä»¥æ˜¯ Elasticsearchï¼Œå³ç”¨ ES æ¥æ‰¿æ‹…æŒä¹…åŒ–ä»»åŠ¡")]),t._v(" "),s("h2",{attrs:{id:"åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†"}},[t._v("#")]),t._v(" åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†")]),t._v(" "),s("blockquote",[s("p",[t._v("Spring Session")])]),t._v(" "),s("h3",{attrs:{id:"åˆ†å¸ƒå¼é”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼é”"}},[t._v("#")]),t._v(" åˆ†å¸ƒå¼é”")]),t._v(" "),s("h3",{attrs:{id:"åˆ†å¸ƒå¼-session"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼-session"}},[t._v("#")]),t._v(" åˆ†å¸ƒå¼ Session")])])}),[],!1,null,null,null);s.default=e.exports}}]);