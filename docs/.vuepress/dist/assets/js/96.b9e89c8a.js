(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{1452:function(s,t,a){"use strict";a.r(t);var n=a(4),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"gin-基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gin-基础"}},[s._v("#")]),s._v(" Gin 基础")]),s._v(" "),t("p",[s._v("实现一个简单的学生管理系统后端")]),s._v(" "),t("ol",[t("li",[s._v("包管理：学习"),t("code",[s._v("go mod")]),s._v("进行包管理")]),s._v(" "),t("li",[s._v("接口编写：采用 MVC 架构编写实现一个成绩管理系统后端，暂不考虑数据库交互")]),s._v(" "),t("li",[s._v("系统化理解 Gin")])]),s._v(" "),t("p",[s._v("感觉类似于 Flask")]),s._v(" "),t("h3",{attrs:{id:"first-gin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#first-gin"}},[s._v("#")]),s._v(" First Gin")]),s._v(" "),t("p",[s._v("在项目根目录命令行导入 gin")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("go get "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" github.com/gin-gonic/gin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Go 的包管理工具整合在 go 命令中，可以通过 go get 直接导入 http 包，并自动更新 go.mod 文件（类似于 pip install）")]),s._v(" "),t("img",{attrs:{src:a(735)}}),s._v(" "),t("p",[s._v("在 Main 函数中启动 Gin 服务器，定义一个简单的 ping 路由（接口）")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github.com/gin-gonic/gin"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"net/http"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" gin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 定义一个简单的路由")]),s._v("\n\tr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("GET")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/ping"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("gin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\tc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("JSON")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StatusOK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" gin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("H"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"message"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pong"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动服务，监听 8080 端口")]),s._v("\n\tr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":8080"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[s._v("在浏览器中访问"),t("code",[s._v("localhost://8080/ping")]),s._v("就会得到 Json 格式的返回"),t("code",[s._v('{"message":"pong"}')])]),s._v(" "),t("p",[s._v("学生管理系统后端的项目目录结构参考如下")]),s._v(" "),t("img",{attrs:{src:a(736)}}),s._v(" "),t("p",[s._v("其中")]),s._v(" "),t("ul",[t("li",[s._v("config 放配置文件 config.yaml 并导入 gin")]),s._v(" "),t("li",[s._v("utils 编写工具类")]),s._v(" "),t("li",[s._v("model 编写 dto 等实体类")]),s._v(" "),t("li",[s._v("repository 编写数据库操作")]),s._v(" "),t("li",[s._v("service 编写具体业务操作")]),s._v(" "),t("li",[s._v("controller 编写具体的 api 实现")]),s._v(" "),t("li",[s._v("routes 整合 controller 方法，向外暴露 http 接口")])]),s._v(" "),t("p",[s._v("基本的 MVC 架构，和 Java 类似")]),s._v(" "),t("h3",{attrs:{id:"配置文件-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件-config"}},[s._v("#")]),s._v(" 配置文件 config")]),s._v(" "),t("p",[s._v("安装 yaml 文件解析工具")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("go get gopkg.in/yaml.v3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在 config 目录下编写配置文件 config.yaml，等同于 application.yaml")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12345")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mysql")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#redis:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  host: "127.0.0.1"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  port: 6379")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  password: ""')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  db: 0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("而后编写 config.go 通过"),t("code",[s._v("yaml.v3")]),s._v("包进行解析，将配置写进全局变量 AppConfig 中")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" config\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gopkg.in/yaml.v3"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"os"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" Config "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tServer ServerConfig "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"server"`')]),s._v("\n\tMySQL  MySQLConfig  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"mysql"`')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" ServerConfig "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tPort "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"port"`')]),s._v("\n\tHost "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"host"`')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" MySQLConfig "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tHost     "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"host"`')]),s._v("\n\tPort     "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"port"`')]),s._v("\n\tUsername "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"username"`')]),s._v("\n\tPassword "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`yaml:"password"`')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" AppConfig Config\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("LoadConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tfile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" err "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" os"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ReadFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config/config.yaml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("panic")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fmt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Sprintf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"无法加载配置文件: %v"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\terr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" yaml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Unmarshal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("AppConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("panic")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fmt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Sprintf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"解析 YAML 失败: %v"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br")])]),t("p",[s._v("我们在其余文件中直接调用这个全局变量 AppConfig 来实现项目的配置")]),s._v(" "),t("h3",{attrs:{id:"model-层"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#model-层"}},[s._v("#")]),s._v(" Model 层")]),s._v(" "),t("blockquote",[t("p",[s._v("Pojo / DTO 对象")])]),s._v(" "),t("h3",{attrs:{id:"data-access-object"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data-access-object"}},[s._v("#")]),s._v(" Data Access Object")]),s._v(" "),t("blockquote",[t("p",[s._v("Dao 层，数据库对象操作，repository 目录")])]),s._v(" "),t("h3",{attrs:{id:"service-封装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-封装"}},[s._v("#")]),s._v(" Service 封装")]),s._v(" "),t("h3",{attrs:{id:"接口和路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#接口和路由"}},[s._v("#")]),s._v(" 接口和路由")]),s._v(" "),t("blockquote",[t("p",[s._v("controller & routes")])]),s._v(" "),t("h3",{attrs:{id:"前后端交互"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前后端交互"}},[s._v("#")]),s._v(" 前后端交互")]),s._v(" "),t("blockquote",[t("p",[s._v("html/template")])]),s._v(" "),t("h2",{attrs:{id:"数据库-crud"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库-crud"}},[s._v("#")]),s._v(" 数据库 CRUD")]),s._v(" "),t("p",[s._v("重构成绩管理系统的 Dao 层")]),s._v(" "),t("ul",[t("li",[s._v("数据库连接\n"),t("ol",[t("li",[s._v("MySQL：使用"),t("code",[s._v("gorm")]),s._v("（Go 的 ORM 库）进行数据库操作")]),s._v(" "),t("li",[s._v("Redis：使用"),t("code",[s._v("github.com/redis/go-redis/v9")])])])]),s._v(" "),t("li",[s._v("重写上述成绩管理系统的数据交互层，从 MySQL 和 Redis 中存取学生数据")])]),s._v(" "),t("p",[s._v("只重写下层，保证上层调用不变")]),s._v(" "),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" MySQL")]),s._v(" "),t("p",[s._v("MySQL - gorm")]),s._v(" "),t("h3",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" Redis")]),s._v(" "),t("p",[s._v("Redis - github.com/redis/go-redis/v9")]),s._v(" "),t("h3",{attrs:{id:"rabbitmq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq"}},[s._v("#")]),s._v(" RabbitMQ")]),s._v(" "),t("h2",{attrs:{id:"微服务开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#微服务开发"}},[s._v("#")]),s._v(" 微服务开发")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("Gin")]),s._v(" 编写 RESTful API，并实现完整的业务逻辑")]),s._v(" "),t("ul",[t("li",[s._v("Gin框架基础：路由、请求处理、中间件、JWT 认证")]),s._v(" "),t("li",[s._v("服务架构：分层设计（控制器、服务、数据访问）")]),s._v(" "),t("li",[s._v("日志与配置管理：使用"),t("code",[s._v("viper")]),s._v("进行配置管理，"),t("code",[s._v("zap")]),s._v("进行日志记录")]),s._v(" "),t("li",[s._v("微服务通信\n"),t("ol",[t("li",[s._v("gRPC：用于高性能服务间通信")]),s._v(" "),t("li",[s._v("Kafka / RabbitMQ：消息队列支持异步任务")])])])]),s._v(" "),t("p",[s._v("搭建一个用户认证微服务，支持 JWT 认证和用户管理")]),s._v(" "),t("h3",{attrs:{id:"grpc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grpc"}},[s._v("#")]),s._v(" gRPC")]),s._v(" "),t("p",[s._v("远程调用框架，一些“竞品”")]),s._v(" "),t("ul",[t("li",[s._v("OpenFeign（HTTP）")]),s._v(" "),t("li",[s._v("Dubbo（二进制协议）")])]),s._v(" "),t("p",[s._v("和注册中心搭配使用，如 Nacos（AP/CP）、Zookeeper（AP）、Eureka（CP）")]),s._v(" "),t("h3",{attrs:{id:"构建与部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建与部署"}},[s._v("#")]),s._v(" 构建与部署")]),s._v(" "),t("p",[t("code",[s._v("go build")]),s._v("命令构建")]),s._v(" "),t("p",[s._v("Docker 镜像构建")]),s._v(" "),t("h2",{attrs:{id:"k3s-部署运维"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#k3s-部署运维"}},[s._v("#")]),s._v(" K3s 部署运维")]),s._v(" "),t("p",[s._v("学习如何在 k3s 运行 Go 微服务，并进行监控")]),s._v(" "),t("ul",[t("li",[s._v("K3s 基础：安装 K3s，创建 Pod、Service、Ingress")]),s._v(" "),t("li",[s._v("容器化：\n"),t("ul",[t("li",[s._v("使用 "),t("code",[s._v("Docker")]),s._v(" 构建 Go 微服务")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("Helm")]),s._v(" 部署微服务")])])]),s._v(" "),t("li",[s._v("服务监控：\n"),t("ul",[t("li",[s._v("Prometheus + Grafana 进行监控")]),s._v(" "),t("li",[s._v("Loki + Promtail 进行日志采集")])])])]),s._v(" "),t("h3",{attrs:{id:"k3s-基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#k3s-基础"}},[s._v("#")]),s._v(" K3s 基础")]),s._v(" "),t("h3",{attrs:{id:"测试部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试部署"}},[s._v("#")]),s._v(" 测试部署")])])}),[],!1,null,null,null);t.default=r.exports},735:function(s,t,a){s.exports=a.p+"assets/img/image-20250329144844701.5f0103aa.png"},736:function(s,t,a){s.exports=a.p+"assets/img/image-20250401131017643.a8b4a187.png"}}]);